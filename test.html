<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Ø¯Ø¹Ù… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ - Ø­Ø³ÙŠÙ† Ø§Ù„Ø®Ù„ÙŠÙ„</title>
    <!-- AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4459876088599546" crossorigin="anonymous"></script>
    <!-- Favicon -->
    <link href="images/logo-small.png" rel="icon" type="image/png"/>
    <link href="images/logo-small.png" rel="apple-touch-icon"/>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* Shared Variables & Styles */
        :root {
            --primary-color: #5e2ca5;
            --primary-dark: #451b7a;
            --primary-light: #8a5bc7;
            --accent-color: #ffd700;
            --bg-color: #f9f7f2;
            --surface-color: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
            --shadow-md: 0 6px 12px rgba(0,0,0,0.08);
            --shadow-lg: 0 15px 25px rgba(0,0,0,0.1);
            
            --radius-lg: 1rem;
            --radius-xl: 1.5rem;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        a { text-decoration: none; color: inherit; transition: all 0.3s ease; }

        /* ==================== Navigation ==================== */
        .nav-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(4px);
            z-index: 998;
            display: none;
        }

        nav {
            background: rgba(94, 44, 165, 0.95);
            backdrop-filter: blur(10px);
            padding: 0.8rem 2%;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .logo-container img {
            height: 40px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }

        .nav-links {
            display: flex;
            flex: 1;
            justify-content: space-evenly;
            align-items: center;
            flex-wrap: wrap; 
            margin: 0 20px;
        }

        .nav-links a {
            color: white;
            font-weight: 700;
            font-size: 1.05rem;
            padding: 8px 12px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 5px;
            white-space: nowrap;
        }

        .nav-links a:hover {
            background: rgba(255,255,255,0.15);
            transform: translateY(-2px);
        }

        .hamburger {
            display: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Mobile Nav Configuration */
        @media (max-width: 1200px) {
            .hamburger { 
                display: block; 
                order: 1; 
            }
            .logo-container {
                order: 2;
            }

            .nav-links {
                position: fixed;
                top: 60px;
                right: -280px;
                width: 280px;
                background: var(--surface-color);
                flex-direction: column;
                padding: 20px;
                height: calc(100vh - 60px);
                box-shadow: -5px 0 15px rgba(0,0,0,0.1);
                transition: right 0.3s ease;
                overflow-y: auto;
                flex-wrap: nowrap;
                justify-content: flex-start;
                gap: 10px;
                margin: 0;
                flex: unset;
            }
            .nav-links.show { right: 0; }
            .nav-links a {
                color: var(--text-primary);
                width: 100%;
                padding: 12px;
                border-radius: 8px;
                font-size: 1rem;
                justify-content: flex-start;
            }
            .nav-links a:hover {
                background: rgba(0,0,0,0.05);
                color: var(--primary-color);
                transform: none;
            }
            
            nav { padding: 0.8rem 5%; }
        }

        /* Hero Section */
        .hero-section {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            padding: 120px 20px 100px;
            text-align: center;
            color: white;
            border-radius: 0 0 50px 50px;
            position: relative;
            z-index: 10;
        }

        .hero-content {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .hero-text h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 800;
        }
        
        .hero-text p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
        }

        /* Search Box in Hero */
        .universal-search {
            width: 100%;
            max-width: 600px;
            position: relative;
            margin-top: 20px;
        }

        #globalSearch {
            width: 100%;
            padding: 18px 50px 18px 25px;
            border-radius: 50px;
            border: none;
            font-size: 1rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            font-family: 'Tajawal', sans-serif;
            outline: none;
            background: white;
            transition: all 0.3s;
        }
        
        #globalSearch:focus {
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.25);
            transform: scale(1.02);
        }

        .search-icon-placeholder {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary-color);
            pointer-events: none;
        }

        /* Search Results Dropdown */
        .search-results {
            position: absolute;
            top: 110%;
            left: 0;
            right: 0;
            background: var(--surface-color);
            border-radius: 15px;
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
            max-height: 400px;
            overflow-y: auto;
            z-index: 1000;
            text-align: right;
            display: none;
            color: var(--text-primary);
        }

        .search-item {
            padding: 15px 20px;
            border-bottom: 1px solid rgba(0,0,0,0.05);
            cursor: pointer;
            transition: background 0.2s;
        }

        .search-item:hover { background: rgba(0,0,0,0.03); }
        .search-item h3 { color: var(--primary-color); font-size: 1rem; margin-bottom: 5px; }
        .search-item p { font-size: 0.9rem; color: var(--text-secondary); margin: 0; }
        .search-item mark { 
            background-color: #fde047; 
            color: #422006; 
            padding: 0 2px;
            border-radius: 2px;
        }

        /* Container Structure */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .main-wrapper {
            position: relative;
            z-index: 20;
            margin-top: -50px; /* Overlap Hero */
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 60px;
        }

        /* Support Content */
        .support-card {
            background: var(--surface-color);
            border-radius: var(--radius-xl);
            padding: 50px;
            box-shadow: var(--shadow-lg);
            margin-bottom: 40px;
            text-align: center;
            border: 1px solid rgba(0,0,0,0.03);
        }

        .support-card h2 {
            color: var(--primary-color);
            font-size: 2rem;
            margin-bottom: 20px;
            font-weight: 800;
        }

        .quote-box {
            background: #fffbeb;
            border-right: 4px solid var(--accent-color);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            font-style: italic;
            color: #422006;
            text-align: right;
            position: relative;
        }
        
        .quote-box i {
            color: rgba(255, 193, 7, 0.2);
            position: absolute;
            left: 20px;
            top: 20px;
            font-size: 2rem;
        }

        .support-links {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
        }

        .support-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 15px 30px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            color: white;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            min-width: 200px;
            gap: 10px;
            font-size: 1.1rem;
        }

        .support-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .support-btn img {
            width: 24px;
            height: 24px;
            object-fit: contain;
            filter: brightness(0) invert(1);
        }

        /* Button Colors */
        .btn-gumroad { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%); color: #333; }
        .btn-gumroad img { filter: none; }
        .btn-buyme { background: #FFDD00; color: #000; }
        .btn-buyme img { filter: none; }
        .btn-kofi { background: #29abe0; }
        .btn-paypal { background: #003087; }
        .btn-payhip { background: #2b2b2b; }

        .thank-you-note {
            margin-top: 40px;
            padding: 20px;
            background: rgba(94, 44, 165, 0.05);
            border-radius: 15px;
            color: var(--primary-dark);
            font-weight: 500;
        }

        /* Social Section */
        .social-section { text-align: center; margin-bottom: 60px; background: var(--surface-color); padding: 40px; border-radius: var(--radius-xl); box-shadow: var(--shadow-sm); }
        .section-title { text-align: center; margin-bottom: 40px; position: relative; }
        .section-title h2 { color: var(--primary-color); font-size: 2rem; display: inline-block; padding-bottom: 15px; }
        .section-title h2::after { content: ''; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 60px; height: 4px; background: var(--accent-color); border-radius: 2px; }
        .social-grid { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-top: 30px; }
        .social-btn { width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.05); transition: all 0.3s; }
        .social-btn img { width: 24px; height: 24px; transition: filter 0.3s; }
        .social-btn:hover { transform: translateY(-5px) scale(1.1); }
        .social-btn:hover img { filter: brightness(0) invert(1); }
        .social-btn.facebook:hover { background: #1877F2; }
        .social-btn.instagram:hover { background: #E4405F; }
        .social-btn.youtube:hover { background: #FF0000; }
        .social-btn.tiktok:hover { background: #000000; }
        .social-btn.telegram:hover { background: #0088CC; }
        .social-btn.snap:hover { background: #FFFC00; }
        .social-btn.snap:hover img { filter: none; }

        /* Footer */
        footer { background: var(--primary-dark); color: white; padding: 40px 20px; text-align: center; margin-top: auto; }
        .footer-links { display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; flex-wrap: wrap; }
        .footer-links a { color: rgba(255,255,255,0.8); font-size: 0.9rem; }
        .footer-links a:hover { color: var(--accent-color); }
        .copyright { color: rgba(255,255,255,0.6); font-size: 0.85rem; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px; }

        /* Fixed Buttons */
        .share-fixed-btn { position: fixed; bottom: 30px; left: 30px; width: 50px; height: 50px; background: var(--accent-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(0,0,0,0.2); cursor: pointer; z-index: 990; transition: transform 0.3s; }
        .share-fixed-btn:hover { transform: scale(1.1); }
        .share-fixed-btn img { width: 24px; filter: brightness(0); }

        .copy-alert { position: fixed; top: 100px; left: 50%; transform: translateX(-50%); background: var(--primary-color); color: white; padding: 12px 25px; border-radius: 30px; box-shadow: var(--shadow-lg); z-index: 10000; opacity: 0; transition: opacity 0.3s; pointer-events: none; }
        .copy-alert.show { opacity: 1; }

        @media (max-width: 900px) {
            .hero-text h1 { font-size: 2rem; }
            .hero-section { padding: 100px 20px 80px; }
            .share-fixed-btn { display: none; }
            .support-links { flex-direction: column; align-items: center; }
            .support-btn { width: 100%; max-width: 300px; }
        }

        @media (max-width: 768px) {
            .footer-links { gap: 12px; flex-wrap: wrap; justify-content: center; }
            .footer-links a { font-size: 0.9rem; white-space: nowrap; }
            .social-grid { gap: 5px; flex-wrap: nowrap; justify-content: center; }
            .social-btn { width: 48px; height: 48px; flex-shrink: 0; }
            .social-btn img { width: 24px; height: 24px; }
        }
    </style>
</head>
<body>

    <div class="nav-overlay" onclick="toggleMobileMenu()"></div>

    <!-- Navigation -->
    <nav>
        <div class="logo-container">
            <a href="index.html">
                <img src="images/logo.png" alt="Ø´Ø¹Ø§Ø± Ø­Ø³ÙŠÙ† Ø§Ù„Ø®Ù„ÙŠÙ„" />
            </a>
        </div>

        <div class="nav-links">
            <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="books.html">Ø§Ù„ÙƒØªØ¨</a>
            <a href="articles.html">Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª</a>
            <a href="khawatir.html">Ø®ÙˆØ§Ø·Ø±</a>
            <a href="videos.html">Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</a>
            <a href="history.html">Ø§Ù„ØªØ§Ø±ÙŠØ®</a>
            <a href="podcast.html">Ø§Ù„Ø¨ÙˆØ¯ÙƒØ§Ø³Øª</a>
            <a href="ask.html">Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</a>
            <a href="hewar.html">Ø­ÙˆØ§Ø±Ø§Øª</a>
            <a href="inq.html">ØªØ³Ø§Ø¤Ù„Ø§Øª</a>
            <a href="manhaj.html">Ø§Ù„Ù…Ù†Ù‡Ø¬</a>
            <a href="favorites.html">Ø§Ù„Ù…ÙØ¶Ù„Ø©</a>
            <a href="support.html" style="background: rgba(255,255,255,0.2);">Ø¯Ø¹Ù… Ø§Ù„Ù…Ø­ØªÙˆÙ‰</a>
            <a href="about.html">Ù…Ù† Ù†Ø­Ù†</a>
            <a href="#" onclick="window.print()" title="Ø·Ø¨Ø§Ø¹Ø©"><i class="fas fa-print"></i></a>
            <a href="#" onclick="handleMobileShare(); return false;" class="mobile-share-link" style="display: none;">Ù…Ø´Ø§Ø±ÙƒØ©</a>
        </div>

        <div class="hamburger" onclick="toggleMobileMenu()">
            <i class="fas fa-bars"></i>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero-section">
        <div class="hero-content">
            <div class="hero-text">
                <h1>Ø¯Ø¹Ù… Ø§Ù„Ù…Ø­ØªÙˆÙ‰</h1>
                <p>Ù…Ø³Ø§Ù‡Ù…ØªÙƒ ØªØµÙ†Ø¹ ÙØ±Ù‚Ù‹Ø§ ÙˆØªØ³Ø§Ø¹Ø¯ ÙÙŠ Ø§Ø³ØªÙ…Ø±Ø§Ø± Ù†Ø´Ø± Ø§Ù„Ù…Ø¹Ø±ÙØ©</p>
            </div>
            
            <!-- Universal Search inside Hero -->
            <div class="universal-search">
                <i class="fas fa-search search-icon-placeholder"></i>
                <input type="text" id="globalSearch" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª..." />
                <div class="search-results" id="searchResults"></div>
            </div>
        </div>
    </header>

    <!-- Main Content Wrapper -->
    <div class="container main-wrapper">
        
        <div class="support-card">
            <h2>Ø´ÙƒØ±Ù‹Ø§ Ù„Ø¯Ø¹Ù…Ùƒ ğŸ’œ</h2>
            
            <div class="quote-box">
                <i class="fas fa-quote-right"></i>
                <p>"Ù…Ø§ Ø£Ù†Ø´Ø±Ù‡ Ù‡Ù†Ø§ Ø«Ù…Ø±Ø© ØªØ£Ù…Ù„ ÙˆØ¨Ø­Ø«ØŒ Ø£Ø¶Ø¹Ù‡ Ø¨ÙŠÙ† ÙŠØ¯ÙŠÙƒØŒ Ù„Ø£Ù†Ù†ÙŠ Ø£Ø¤Ù…Ù† Ø£Ù† Ù†ÙˆØ± Ø§Ù„ÙƒÙ„Ù…Ø© Ù„Ø§ ÙŠÙÙ‚Ø§ÙŠØ¶ Ø¨Ø«Ù…Ù†."</p>
            </div>
            
            <div class="quote-box" style="border-color: var(--primary-color);">
                <i class="fas fa-quote-right"></i>
                <p>"Ø¥Ù† Ø±Ø£ÙŠØª ÙÙŠÙ…Ø§ Ø£Ù‚Ø¯Ù…Ù‡ Ù‚ÙŠÙ…Ø©Ù‹ ØªØ³ØªØ­Ù‚ØŒ ÙØ¯Ø¹Ù…Ùƒ ÙŠÙØ¹ÙŠÙ†Ù†ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø±ØŒ ÙˆÙŠÙØ´Ø¹Ø±Ù†ÙŠ Ø£Ù† Ù…Ø§ Ø£ÙƒØªØ¨Ù‡ ÙŠØ¬Ø¯ ØµØ¯Ø§Ù‡."</p>
            </div>

            <div class="support-links">
                <a href="https://husseinalkhalil.gumroad.com/l/book3" target="_blank" class="support-btn btn-gumroad">
                    <img src="images/gumroad.png" alt="Gumroad"> Gumroad
                </a>
                <a href="https://buymeacoffee.com/husseinalkhalil/e/411365" target="_blank" class="support-btn btn-buyme">
                    <img src="images/buyme.png" alt="Buy Me A Coffee"> Buy Me A Coffee
                </a>
                <a href="https://ko-fi.com/s/763cb54e0a" target="_blank" class="support-btn btn-kofi">
                    <img src="images/ko-fi.png" alt="Ko-fi"> Ko-fi
                </a>
                <a href="https://paypal.me/HusseinAlkhalil" target="_blank" class="support-btn btn-paypal">
                    <img src="images/paypal.png" alt="PayPal"> PayPal
                </a>
                <a href="https://payhip.com/b/qvP0F" target="_blank" class="support-btn btn-payhip">
                    <img src="images/payhip.png" alt="Payhip"> Payhip
                </a>
            </div>

            <div class="thank-you-note">
                <i class="fas fa-heart" style="color: #ef4444; margin-left: 5px;"></i>
                ÙƒÙ„ Ø¯Ø¹Ù… Ù…Ù‡Ù…Ø§ ÙƒØ§Ù† Ø­Ø¬Ù…Ù‡ ÙŠÙØ­Ø¯Ø« ÙØ±Ù‚Ù‹Ø§ ÙˆÙŠÙØ³Ù‡Ù… ÙÙŠ Ø§Ø³ØªÙ…Ø±Ø§Ø± Ù‡Ø°Ø§ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
            </div>
        </div>

        <!-- Social Media -->
        <div class="social-section">
            <div class="section-title">
                <h2>ØªØ§Ø¨Ø¹Ù†ÙŠ Ø¹Ù„Ù‰ Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØªÙˆØ§ØµÙ„</h2>
            </div>
            <div class="social-grid">
                <a href="https://youtube.com/@husseinalkhalil" target="_blank" class="social-btn youtube" title="ÙŠÙˆØªÙŠÙˆØ¨">
                    <img src="icons/yot-soc.png" alt="ÙŠÙˆØªÙŠÙˆØ¨">
                </a>
                <a href="https://www.facebook.com/share/1C2wBZkwXH/?mibextid=wwXIfr" target="_blank" class="social-btn facebook" title="ÙÙŠØ³Ø¨ÙˆÙƒ">
                    <img src="icons/fac-soc.png" alt="ÙÙŠØ³Ø¨ÙˆÙƒ">
                </a>
                <a href="https://www.instagram.com/husseinalkhalil?igsh=YmNhZWdlOWQ5NGNm&utm_source=qr" target="_blank" class="social-btn instagram" title="Ø¥Ù†Ø³ØªØºØ±Ø§Ù…">
                    <img src="icons/ins-soc.png" alt="Ø¥Ù†Ø³ØªØºØ±Ø§Ù…">
                </a>
                <a href="https://t.me/tanoeer" target="_blank" class="social-btn telegram" title="ØªÙ„ØºØ±Ø§Ù…">
                    <img src="icons/tel-soc.png" alt="ØªÙ„ØºØ±Ø§Ù…">
                </a>
                <a href="https://www.tiktok.com/@h.alkhalil?_t=ZS-8vj5cEPU6jp&_r=1" target="_blank" class="social-btn tiktok" title="ØªÙŠÙƒ ØªÙˆÙƒ">
                    <img src="icons/tik-soc.png" alt="ØªÙŠÙƒ ØªÙˆÙƒ">
                </a>
                <a href="https://snapchat.com/t/sFLWjw3K" target="_blank" class="social-btn snap" title="Ø³Ù†Ø§Ø¨ Ø´Ø§Øª">
                    <img src="icons/snap.png" alt="Ø³Ù†Ø§Ø¨ Ø´Ø§Øª">
                </a>
            </div>
        </div>
    </div>

    <!-- Fixed Share Button -->
    <div class="share-fixed-btn" onclick="handleMobileShare()">
        <img src="images/share.png" alt="Ù…Ø´Ø§Ø±ÙƒØ©">
    </div>

    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="terms_and_conditions_ar.html">Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…</a>
                <a href="privacy.html">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
                <a href="contact.html">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
                <a href="feedback.html">Ø´Ø§Ø±ÙƒÙ†Ø§ Ø±Ø£ÙŠÙƒ</a>
            </div>
            <div class="copyright">
                Ø­Ø³ÙŠÙ† Ø§Ù„Ø®Ù„ÙŠÙ„ - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© 2025
            </div>
        </div>
    </footer>

    <div class="copy-alert" id="copyAlert">ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø¨Ù†Ø¬Ø§Ø­ âœ…</div>

    <script>
        // Toggle Mobile Menu
        function toggleMobileMenu() {
            const navLinks = document.querySelector('.nav-links');
            const overlay = document.querySelector('.nav-overlay');
            navLinks.classList.toggle('show');
            overlay.style.display = navLinks.classList.contains('show') ? 'block' : 'none';
        }

        // Share
        function handleMobileShare() {
            const link = "https://www.husseinalkhalil.com/support.html";
            if (navigator.share) {
                navigator.share({ title: 'Ø¯Ø¹Ù… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ - Ø­Ø³ÙŠÙ† Ø§Ù„Ø®Ù„ÙŠÙ„', url: link }).catch(console.error);
            } else {
                navigator.clipboard.writeText(link).then(() => {
                    const alert = document.getElementById('copyAlert');
                    alert.classList.add('show');
                    setTimeout(() => alert.classList.remove('show'), 2000);
                });
            }
        }

        window.addEventListener('load', () => {
            if (window.innerWidth < 1200) {
                const mobileShareLink = document.querySelector('.mobile-share-link');
                if(mobileShareLink) mobileShareLink.style.display = 'flex';
            }
        });

        // Search Logic (Global Search across site pages - same as index.html)
        let cachedPagesContent = null;
        let isSearchInitialized = false;
        const SEARCHABLE_PAGES = [
            'index.html', 'books.html', 'articles.html', 'khawatir.html', 
            'videos.html', 'ask.html', 'hewar.html', 'favorites.html', 
            'support.html', 'about.html', 'manhaj.html', 'inq.html', 'history.html'
        ];

        async function fetchPageContent(url) {
            try {
                const response = await fetch(url);
                if (!response.ok) throw new Error('Failed');
                const html = await response.text();
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                
                doc.querySelectorAll('script, style, nav, footer, .no-search').forEach(el => el.remove());
                
                const mainContent = doc.querySelector('.container, main, body') || doc.body;
                return {
                    page: doc.title.replace('Ø­Ø³ÙŠÙ† Ø§Ù„Ø®Ù„ÙŠÙ„ - ', '').replace('Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø±Ø³Ù…ÙŠ', '').trim() || 'ØµÙØ­Ø©',
                    url: url,
                    content: mainContent.textContent.replace(/\s+/g, ' ').trim()
                };
            } catch (e) { return null; }
        }

        async function loadAllPagesContent() {
            if (cachedPagesContent) return cachedPagesContent;
            const promises = SEARCHABLE_PAGES.map(page => fetchPageContent(page));
            const results = await Promise.all(promises);
            cachedPagesContent = results.filter(Boolean);
            return cachedPagesContent;
        }

        function normalizeArabic(text) {
            if (!text) return '';
            text = text.replace(/[\u064B-\u065F\u0670]/g, ''); 
            text = text.replace(/[Ø£Ø¥Ø¢]/g, 'Ø§');
            text = text.replace(/[Ø©]/g, 'Ù‡');
            text = text.replace(/[Ù‰]/g, 'ÙŠ');
            text = text.replace(/[Ø¤]/g, 'Ùˆ');
            text = text.replace(/[Ø¦]/g, 'ÙŠ');
            return text;
        }

        function getSafeRegex(searchTerm) {
            let regexStr = '';
            const cleanTerm = normalizeArabic(searchTerm);
            
            for (let i = 0; i < cleanTerm.length; i++) {
                const char = cleanTerm[i];
                if (char === 'Ø§') regexStr += '[Ø§Ø£Ø¥Ø¢]';
                else if (char === 'Ù‡') regexStr += '[Ù‡Ø©]';
                else if (char === 'ÙŠ') regexStr += '[ÙŠÙ‰Ø¦]';
                else if (char === 'Ùˆ') regexStr += '[ÙˆØ¤]';
                else if (char.match(/[a-zA-Z]/)) regexStr += char;
                else regexStr += char.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                regexStr += '[\\u064B-\\u065F\\u0670]*'; 
            }
            return new RegExp(regexStr, 'gi');
        }

        function displayResults(results, queryRegex, container) {
            container.innerHTML = '';
            if (results.length === 0) {
                container.innerHTML = '<div class="search-item"><p>âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬</p></div>';
                container.style.display = 'block';
                return;
            }
            
            results.forEach(item => {
                const div = document.createElement('div');
                div.className = 'search-item';
                const highlightedTitle = item.page.replace(queryRegex, match => `<mark>${match}</mark>`);
                
                let snippet = '';
                queryRegex.lastIndex = 0;
                const match = queryRegex.exec(item.content);
                
                if (match) {
                    const start = Math.max(0, match.index - 60);
                    const end = Math.min(item.content.length, match.index + 100);
                    snippet = item.content.substring(start, end);
                    if (start > 0) snippet = '...' + snippet;
                    if (end < item.content.length) snippet = snippet + '...';
                } else {
                    snippet = item.content.substring(0, 150) + '...';
                }
                
                const highlightedSnippet = snippet.replace(queryRegex, match => `<mark>${match}</mark>`);
                div.innerHTML = `<h3>${highlightedTitle}</h3><p>${highlightedSnippet}</p>`;
                div.onclick = () => window.location.href = item.url;
                container.appendChild(div);
            });
            container.style.display = 'block';
        }

        async function performSearch(query) {
            const resultsContainer = document.getElementById('searchResults');
            if (!query || query.length < 2) {
                resultsContainer.style.display = 'none';
                return;
            }
            
            resultsContainer.innerHTML = '<div class="search-item"><p>Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø«...</p></div>';
            resultsContainer.style.display = 'block';

            const data = await loadAllPagesContent();
            const searchRegex = getSafeRegex(query);
            
            const results = data.filter(item => {
                searchRegex.lastIndex = 0;
                const titleMatch = searchRegex.test(item.page);
                searchRegex.lastIndex = 0;
                const contentMatch = searchRegex.test(item.content);
                return titleMatch || contentMatch;
            });

            displayResults(results, searchRegex, resultsContainer);
        }

        const searchInput = document.getElementById('globalSearch');
        if(searchInput) {
            let timer;
            searchInput.addEventListener('input', (e) => {
                clearTimeout(timer);
                timer = setTimeout(() => performSearch(e.target.value.trim()), 500);
            });
            searchInput.addEventListener('focus', () => {
                if(!isSearchInitialized) { loadAllPagesContent(); isSearchInitialized = true; }
            });
        }

        document.addEventListener('click', (e) => {
            const searchContainer = document.querySelector('.universal-search');
            if(searchContainer && !searchContainer.contains(e.target)) {
                document.getElementById('searchResults').style.display = 'none';
            }
        });
    </script>
</body>
</html>
