<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الجدول مع ميزة القراءة المزيد</title>
    
    <!-- الأنماط الأصلية للصفحة -->
    <style>
        /* كل الأنماط الحالية كما هي */
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
        }
        
        table {
            width: 80%;
            margin: auto;
            border-collapse: collapse;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        
        th, td {
            padding: 15px;
            background-color: #fff;
            border-bottom: 1px solid #ddd;
            text-align: right;
        }
        
        th {
            background-color: #4CAF50;
            color: white;
        }
        
        tr:hover td {
            background-color: #f6f6f6;
        }
        
        /* الإضافة الجديدة فقط */
        .text-container {
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            line-height: 1.6;
            max-height: 3.2em;
            position: relative;
            cursor: pointer;
        }
        
        .text-container.expanded {
            -webkit-line-clamp: unset;
            max-height: none;
            display: block;
        }
        
        .read-more {
            color: #2196F3;
            font-weight: bold;
            margin-right: 5px;
            background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.9) 20%);
            padding-left: 25px;
        }
    </style>
</head>
<body>

    <!-- الجدول الأصلي كما هو -->
    <table>
        <thead>
            <tr>
                <th>الوصف</th>
                <th>المعلومات</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <div class="text-container">
                        هنا النص الطويل الذي يحتاج إلى ميزة القراءة المزيد. هذا النص تجريبي لاختبار عمل النظام عند وجود محتوى يفوق المساحة المحددة. سيتم اختبار سلوك العنصر عند الوصول إلى الحد الأقصى للارتفاع المخصص. يجب أن تظهر علامة "قراءة المزيد" تلقائيًا عند تجاوز النص الطول المسموح.
                        
                        <p>فقرة إضافية لزيادة طول المحتوى بشكل كافي لتفعيل الميزة. هذه الفقرة تحتوي على معلومات تكميلية لتوضيح كيفية عمل النظام مع النصوص المتعددة الفقرات.</p>
                        
                        <ul>
                            <li>عنصر قائمة أول</li>
                            <li>عنصر قائمة ثاني</li>
                            <li>عنصر قائمة ثالث</li>
                        </ul>
                    </div>
                </td>
                <td>
                    <div class="text-container">
                        نص قصير لا يحتاج إلى التفعيل
                    </div>
                </td>
            </tr>
        </tbody>
    </table>

    <!-- السكريبت الأصلي إن وجد -->
    <script>
    // أي أكواد جافاسكريبت موجودة مسبقًا تبقى كما هي
    
    // الإضافة الجديدة فقط
    document.addEventListener('DOMContentLoaded', () => {
        const textContainers = document.querySelectorAll('.text-container');
        
        textContainers.forEach(container => {
            const fullText = container.innerHTML;
            const plainText = container.textContent;
            
            if (plainText.length > 150) {
                container.dataset.full = fullText;
                container.innerHTML = `
                    ${fullText.substring(0, 150)}
                    <span class="read-more">... قراءة المزيد</span>
                `;
                
                container.addEventListener('click', (e) => {
                    if (e.target.classList.contains('read-more') || e.currentTarget === container) {
                        if (container.classList.contains('expanded')) {
                            container.classList.remove('expanded');
                            container.innerHTML = `
                                ${fullText.substring(0, 150)}
                                <span class="read-more">... قراءة المزيد</span>
                            `;
                        } else {
                            container.classList.add('expanded');
                            container.innerHTML = `
                                ${container.dataset.full}
                                <span class="read-more">قراءة أقل</span>
                            `;
                        }
                    }
                });
            }
        });
    });
    </script>

</body>
</html>
