<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
    <title>الروايات - روايات تتناقض مع القرآن</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4459876088599546" crossorigin="anonymous"></script>
    
    <link href="images/logo-small.png" rel="icon" type="image/png"/>
    <link href="images/logo-small.png" rel="apple-touch-icon"/>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary-color: #5e2ca5;
            --primary-dark: #451b7a; 
            --primary-light: #8a5bc7;
            --accent-color: #ffd700;
            --bg-color: #f9f7f2;
            --surface-color: #F8F5FD; 
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --shadow-sm: 0 4px 15px rgba(94, 44, 165, 0.08);
            --shadow-md: 0 8px 20px rgba(94, 44, 165, 0.12);
            --shadow-lg: 0 15px 30px rgba(0,0,0,0.1);
            --radius-lg: 1rem;
            --radius-xl: 1.5rem;
            --number-border: #8E13BB; 
            --matte-purple: #7c5295; 
            --reading-beige: #FCF9F1; 
            --btt-bg: #8E13BB;
            --btt-accent: #FFC600;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            width: 100%;
        }

        body.no-scroll { overflow: hidden !important; height: 100vh; position: fixed; width: 100%; }
        a { text-decoration: none; color: inherit; transition: all 0.3s ease; }

        /* ==================== Navigation ==================== */
        .nav-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(4px);
            z-index: 998; display: none;
        }

        nav {
            background: rgba(94, 44, 165, 0.98);
            backdrop-filter: blur(10px);
            padding: 0 5%;
            position: fixed;
            width: 100%; top: 0; z-index: 1000;
            display: flex; align-items: center; justify-content: space-between;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            height: 75px;
        }

        .logo-container { order: 1; } 
        .logo-container img { height: 45px; width: auto; transition: 0.4s; }

        .nav-links { display: flex; flex: 1; justify-content: space-evenly; align-items: center; margin: 0 10px; order: 2; }
        .nav-links a {
            color: white; font-weight: 700; font-size: 0.95rem; padding: 8px 12px; border-radius: 20px; white-space: nowrap;
            display: flex; align-items: center; gap: 5px;
        }
        .nav-links a:hover, .nav-links a.active { background: rgba(255,255,255,0.15); transform: translateY(-2px); }
        .hamburger { display: none; color: white; font-size: 1.5rem; cursor: pointer; order: 3; }

        @media (max-width: 1200px) {
            .hamburger { display: block; order: 1; }
            .logo-container { order: 2; }
            .nav-links {
                position: fixed; top: 75px; right: -280px; width: 280px;
                background: var(--surface-color); flex-direction: column; padding: 20px; height: calc(100vh - 75px);
                box-shadow: -5px 0 15px rgba(0,0,0,0.1); transition: right 0.3s ease;
                overflow-y: auto; z-index: 1000; display: flex !important;
            }
            .nav-links.show { right: 0; }
            .nav-links a { color: var(--text-primary); width: 100%; border-bottom: 1px solid rgba(0,0,0,0.03); }
        }

        /* ==================== Back to Top & Font ==================== */
        .back-to-top {
            position: fixed; bottom: 30px; right: 30px; width: 50px; height: 50px;
            background-color: var(--btt-bg); border: 3px solid var(--btt-accent);
            color: var(--btt-accent); border-radius: 50%; display: none;
            align-items: center; justify-content: center; font-size: 1.2rem;
            cursor: pointer; z-index: 1001; transition: 0.4s; box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .font-controls-fixed { position: fixed; top: 120px; left: 30px; display: flex; flex-direction: column; gap: 10px; z-index: 990; }
        .font-btn { width: 45px; height: 45px; border-radius: 50%; background: white; border: 1px solid #e2e8f0; color: var(--primary-color); cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: var(--shadow-sm); transition: 0.3s; }
        .font-btn:hover { background: var(--primary-color); color: white; transform: scale(1.1); }

        /* ==================== Header & Search ==================== */
        .unified-header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            padding: 100px 0 40px; border-radius: 0 0 50px 50px; margin-bottom: 30px;
            width: 100%; text-align: center; color: white; position: relative;
        }
        .page-title { font-size: 2.2rem; font-weight: 800; margin-bottom: 10px; }
        .page-subtitle { color: #e2e8f0; font-size: 1.1rem; max-width: 800px; margin: 0 auto; padding: 0 20px; }
        .universal-search { width: 100%; max-width: 600px; margin: 35px auto 0; position: relative; z-index: 5; }
        #globalSearch { 
            width: 100%; padding: 18px 25px; border-radius: 50px; border: none; font-size: 1rem; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.2); outline: none; text-align: right; font-family: 'Tajawal';
        }

        /* ==================== Hadith Card Styling ==================== */
        .container { max-width: 1150px; margin: 0 auto; padding: 0 20px; width: 100%; }
        .hadith-row { display: flex; align-items: flex-start; gap: 20px; margin-bottom: 30px; width: 100%; transition: 0.3s; }
        .hadith-number-circle { 
            width: 46px; height: 46px; background-color: #FFC600; border: 2.5px solid #8E13BB; 
            color: #8E13BB; border-radius: 50%; display: flex; align-items: center; justify-content: center; 
            font-weight: 800; font-size: 1.3rem; flex-shrink: 0; margin-top: 15px; padding-top: 4px;
        }
        .hadith-card { 
            background: var(--surface-color); border-radius: var(--radius-xl); 
            box-shadow: var(--shadow-sm); border-right: 6px solid var(--primary-color); 
            overflow: hidden; transition: 0.3s; flex: 1; border: 1px solid rgba(0,0,0,0.05); position: relative; 
        }
        .hadith-summary { padding: 25px 25px 25px 45px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; gap: 15px; }
        .hadith-summary h3 { font-size: 1.3rem; color: var(--primary-dark); font-weight: 800; text-align: right; transition: 0.3s; }
        .source-tag { background: #FFC600; padding: 5px 12px; border-radius: 8px; font-size: 0.85rem; font-weight: 800; color: var(--primary-color); }
        .fav-header-icon { font-size: 1.6rem; color: var(--matte-purple); cursor: pointer; position: absolute; top: 0; left: 0; padding: 10px 15px; z-index: 10; }
        .hadith-details { max-height: 0; opacity: 0; overflow: hidden; transition: max-height 0.7s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.5s; background: var(--reading-beige); }
        .hadith-details.open { max-height: 3000px; opacity: 1; padding: 10px 30px 40px; border-top: 1px solid rgba(0,0,0,0.05); }
        .detail-section { margin-top: 25px; }
        .section-header { padding-bottom: 8px; margin-bottom: 10px; font-weight: 800; font-size: 1.1rem; display: flex; align-items: center; gap: 10px; color: var(--primary-dark); border-bottom: 1px solid rgba(0,0,0,0.05); }
        .section-content { padding: 5px 0; line-height: 1.8; font-size: 1.15rem; color: #334155; }
        .hadith-actions { display: flex; align-items: center; gap: 15px; margin-top: 25px; padding-top: 20px; border-top: 1px dashed rgba(0,0,0,0.08); }
        .action-btn { font-size: 0.9rem; font-weight: 700; padding: 10px 18px; border-radius: 8px; display: flex; align-items: center; gap: 8px; cursor: pointer; }
        .btn-source { background: rgba(94, 44, 165, 0.1); color: var(--primary-color); border: 1px solid rgba(94, 44, 165, 0.2); }
        .btn-report { background: rgba(225, 29, 72, 0.08); color: #e11d48; border: 1px solid rgba(225, 29, 72, 0.1); }

        /* ==================== Pagination ==================== */
        #pagination-wrapper { background: var(--surface-color); padding: 25px; border-radius: var(--radius-lg); text-align: center; margin: 40px auto; max-width: 500px; border: 1px solid #eee; }
        .pagination-btn { background: #f1f5f9; color: var(--text-primary); border: none; padding: 10px 20px; border-radius: 12px; cursor: pointer; margin: 0 5px; font-weight: 600; transition: 0.3s; }
        .pagination-btn:hover:not(:disabled) { background: var(--primary-color); color: white; }
        .pagination-btn:disabled { opacity: 0.5; cursor: not-allowed; }

        /* ==================== Social Media ==================== */
        .social-section { text-align: center; margin: 50px auto 60px; background: var(--surface-color); padding: 40px; border-radius: var(--radius-xl); box-shadow: var(--shadow-sm); }
        .social-grid { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin-top: 30px; }
        .social-btn { width: 55px; height: 55px; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: white; transition: 0.3s; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .social-btn img { width: 26px; }
        .social-btn:hover { transform: translateY(-8px); filter: brightness(1.2); }

        footer { background: #1e293b; color: white; padding: 60px 20px; text-align: center; margin-top: 50px; }
        .footer-links { display: flex; justify-content: center; gap: 12px; margin-bottom: 25px; flex-wrap: wrap; }
        .report-modal { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); display: none; align-items: center; justify-content: center; z-index: 2000; padding: 20px; }
        .report-modal.show { display: flex; }
        .modal-box { background: white; width: 100%; max-width: 420px; border-radius: 20px; padding: 30px; }
        .success-toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(100px); background: #059669; color: white; padding: 14px 35px; border-radius: 50px; font-weight: 700; z-index: 3000; transition: 0.5s; opacity: 0; }
        .success-toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }

        @media (max-width: 768px) {
            .hadith-row { flex-direction: column; gap: 10px; }
            .hadith-number-circle { margin-top: 0; align-self: flex-start; }
            .font-controls-fixed { left: 15px; bottom: 20px; top: auto; flex-direction: row; }
        }
    </style>
</head>
<body>

<div class="nav-overlay" id="navOverlay" onclick="toggleMobileMenu()"></div>

<nav>
    <div class="logo-container"><a href="/index.html"><img src="/images/logo.png" alt="logo" /></a></div>
    <div class="nav-links" id="navLinks">
        <a href="/index.html">الرئيسية</a>
        <a href="/books.html">الكتب</a>
        <a href="/articles.html">المقالات</a>
        <a href="/hadith.html" class="active">الروايات</a>
        <a href="/khawatir.html">خواطر</a>
        <a href="/favorites.html">المفضلة</a>
        <a href="/about.html">من نحن</a>
    </div>
    <div class="hamburger" onclick="toggleMobileMenu()"><i class="fas fa-bars"></i></div>
</nav>

<div class="font-controls-fixed">
    <button class="font-btn" onclick="changeFont(0.1)"><i class="fas fa-plus"></i></button>
    <button class="font-btn" onclick="resetFont()"><i class="fas fa-redo"></i></button>
    <button class="font-btn" onclick="changeFont(-0.1)"><i class="fas fa-minus"></i></button>
</div>

<button class="back-to-top" id="backToTop" onclick="window.scrollTo({top:0, behavior:'smooth'})"><i class="fas fa-chevron-up"></i></button>

<header class="unified-header">
    <h1 class="page-title">روايات تتناقض مع القرآن</h1>
    <p class="page-subtitle">فحص نقدي للمرويات التي تعارضت مع النص القرآني</p>
    <div class="universal-search">
        <input type="text" id="globalSearch" placeholder="ابحث في نص الرواية أو العنوان..." oninput="handleSearch()" />
    </div>
</header>

<div class="container">
    <!-- حاوية الروايات الديناميكية -->
    <div id="hadithContainer"></div>

    <div id="pagination-wrapper">
        <span id="pageInfo">الصفحة 1 من 1</span>
        <div style="margin-top: 15px;">
            <button id="firstPage" class="pagination-btn" onclick="goToPage(1)">الأولى</button>
            <button id="prevPage" class="pagination-btn" onclick="changePage(-1)">السابق</button>
            <button id="nextPage" class="pagination-btn" onclick="changePage(1)">التالي</button>
        </div>
    </div>

    <!-- قسم تابعنا -->
    <div class="social-section">
        <h2 style="font-weight: 800; color: var(--primary-dark); margin-bottom: 10px;">تابعنا على منصات التواصل</h2>
        <div class="social-grid">
            <a href="https://youtube.com/@husseinalkhalil" target="_blank" class="social-btn"><img src="/icons/yot-soc.png" alt="yt"></a>
            <a href="https://www.facebook.com/hussien.alkhalil" target="_blank" class="social-btn"><img src="/icons/fac-soc.png" alt="fb"></a>
            <a href="https://instagram.com/husseinalkhalil" target="_blank" class="social-btn"><img src="/icons/ins-soc.png" alt="in"></a>
            <a href="https://t.me/tanoeer" target="_blank" class="social-btn"><img src="/icons/tel-soc.png" alt="tg"></a>
            <a href="https://tiktok.com/@h.alkhalil" target="_blank" class="social-btn"><img src="/icons/tik-soc.png" alt="tk"></a>
            <a href="https://snapchat.com/t/sFLWjw3K" target="_blank" class="social-btn"><img src="/icons/snap.png" alt="sc"></a>
        </div>
    </div>
</div>

<!-- Modal الإبلاغ -->
<div class="report-modal" id="reportModal">
    <div class="modal-box">
        <h2>إبلاغ عن محتوى</h2>
        <p id="modalHadithInfo" style="margin: 10px 0; color: #666;"></p>
        <form id="reportForm" onsubmit="handleReportSubmit(event)">
            <label class="report-option"><input type="radio" name="issue" value="الرابط لا يعمل" required> الرابط لا يعمل</label>
            <label class="report-option"><input type="radio" name="issue" value="الحديث غير مطابق"> الحديث غير مطابق</label>
            <div style="display:flex; gap:10px; margin-top:20px;">
                <button type="submit" class="pagination-btn" style="background:var(--primary-color); color:white; flex:2;">إرسال</button>
                <button type="button" class="pagination-btn" onclick="closeReportModal()" style="flex:1;">إلغاء</button>
            </div>
        </form>
    </div>
</div>

<div class="success-toast" id="successToast">شكراً لمساهمتك! تم إرسال البلاغ</div>

<footer>
    <div class="footer-links">
        <a href="/terms.html">الشروط والأحكام</a> | <a href="/privacy.html">سياسة الخصوصية</a> | <a href="/contact.html">اتصل بنا</a>
    </div>
    <div class="copyright">حسين الخليل - جميع الحقوق محفوظة © 2025</div>
</footer>

<script>
    // ==========================================
    // 1. البيانات (أضف الروايات الجديدة هنا)
    // ==========================================
    const allNovels = [
        {
            id: 1,
            title: "رواية قتل المرتد",
            source: "البخاري",
            sourceUrl: "https://dorar.net/h/77qg1XUt",
            text: "قالَ النَّبيُّ صَلَّى اللهُ عليه وسلَّمَ: مَن بَدَّلَ دِينَهُ فَاقْتُلُوهُ.",
            num: "3017",
            reason: "تفرض هذه الرواية عقوبة الإعدام على 'حرية الاعتقاد'، مما يحول الدين من قناعة قلبية ويقين عقلي إلى 'انتماء إجباري' يُحرس بالسيف. هذا التوجه يتصادم مع روح الرسالة المحمدية التي جاءت لتحرير عقول الناس، وليس لإجبارهم على البقاء في الدين كرهًا. فالإيمان تحت تهديد السيف لا ينتج مؤمنين، بل ينتج منافقين.",
            proofs: [
                { label: "القاعدة الذهبية:", text: "{لَا إِكْرَاهَ فِي الدِّينِ قَد تَّبَيَّنَ الرُّشْدُ مِنَ الْغَيِّ}", ref: "[البقرة: 256]" },
                { label: "الاختيار الفردي:", text: "{وَقُلِ الْحَقُّ مِن رَّبِّكُمْ فَمَن شَاءَ فَلْيُؤْمِن وَمَن شَاءَ فَلْيَكْفُرْ}", ref: "[الكهف: 29]" },
                { label: "غياب العقوبة:", text: "{وَمَن يَرْتَدِدْ مِنكُمْ عَن دِينِهِ فَيَمُتْ وَهُوَ كَافِرٌ فَأُولَٰئِكَ حَبِطَتْ أَعْمَالُهُمْ فِي الدُّنْيَا وَالْآخِرَةِ}", ref: "[البقرة: 217]" }
            ]
        },
        {
            id: 2,
            title: "رواية جئتكم بالذبح",
            source: "صحيح الموارد",
            sourceUrl: "https://dorar.net/h/qFBPLzjX",
            text: "عن عبد الله بن عمرو بن العاص قال: حضرنا قريشاً فقال النبي ﷺ: أتسمعون يا معشر قريش؟ أما والذي نفس محمد بيده لقد جئتكم بالذبح.",
            num: "6567",
            reason: "تُظهر هذه الرواية النبي في صورة 'المتوعّد بالقتل والذبح' منذ بدايات الدعوة في مكة، وهو ما يصدم العقل والمنطق؛ فالدعوة بدأت بالكلمة الطيبة والموعظة الحسنة. كلمة 'الذبح' كلمة وحشية لا تليق بمقام النبوة.",
            proofs: [
                { label: "عالمية الرحمة:", text: "{وَمَا أَرْسَلْنَاكَ إِلَّا رَحْمَةً لِّلْعَالَمِينَ}", ref: "[الأنبياء: 107]" },
                { label: "أدب الدعوة:", text: "{ادْعُ إِلَىٰ سَبِيلِ رَبِّكَ بِالْحِكْمَةِ وَالْمَوْعِظَةِ الْحَسَنَةِ}", ref: "[النحل: 125]" }
            ]
        },
        {
            id: 3,
            title: "رواية جعل رزقي تحت ظل رمحي",
            source: "إرواء الغليل",
            sourceUrl: "https://dorar.net/h/LvAcRXno",
            text: "عن ابن عمر قال: قال رسول الله ﷺ: بُعثت بالسيف بين يدي الساعة حتى يُعبد الله وحده لا شريك له، وجُعل رزقي تحت ظل رمحي، وجُعل الذل والصغار على من خالف أمري.",
            num: "5/109",
            reason: "تُصور هذه الرواية الإسلام كدين 'ارتزاق من الحرب'، حيث تربط بين 'رزق النبي' وبين 'الرمح' (الغنائم والسلب)، وهذا يطعن في نزاهة النبوة ويجعلها غاية لتحصيل الأموال والقهر.",
            proofs: [
                { label: "الاستغناء عن الأجر:", text: "{وَمَا أَسْأَلُكُمْ عَلَيْهِ مِنْ أَجْرٍ ۖ إِنْ أَجْرِيَ إِلَّا عَلَىٰ رَبِّ الْعَالَمِينَ}", ref: "[الشعراء: 109]" },
                { label: "الرزق من الله:", text: "{نَحْنُ نَرْزُقُكَ ۗ وَالْعَاقِبَةُ لِلتَّقْوَىٰ}", ref: "[طه: 132]" }
            ]
        },
        {
            id: 4,
            title: "رواية أمرت أن أقاتل الناس",
            source: "البخاري ومسلم",
            sourceUrl: "https://dorar.net/h/kKNtMyTu",
            text: "أُمِرْتُ أنْ أُقَاتِلَ النَّاسَ حتَّى يقولوا لا إلَهَ إلَّا اللَّهُ، فَإِذَا قَالُوهَا، وصَلَّوْا صَلَاتَنَا، واسْتَقْبَلُوا قِبْلَتَنَا، وذَبَحُوا ذَبِيحَتَنَا، فقَدْ حَرُمَتْ عَلَيْنَا دِمَاؤُهُمْ وأَمْوَالُهُمْ، إلَّا بحَقِّهَا وحِسَابُهُمْ علَى اللَّهِ.",
            num: "392",
            reason: "تؤسس هذه الرواية لمبدأ 'الحرب الشاملة' من أجل فرض العقيدة والشعائر بالقوة، وتجعل دماء الناس وأموالهم 'مباحة' حتى ينطقوا بالشهادتين. هذا المفهوم يلغي تماماً فكرة 'الاختيار'.",
            proofs: [
                { label: "نفي السيطرة:", text: "{فَذَكِّرْ إِنَّمَا أَنْتَ مُذَكِّرٌ * لَسْتَ عَلَيْهِمْ بِمُصَيْطِرٍ}", ref: "[الغاشية: 21-22]" },
                { label: "ضوابط القتال:", text: "{وَقَاتِلُوا فِي سَبِيلِ اللَّهِ الَّذِينَ يُقَاتِلُونَكُمْ وَلَا تَعْتَدُوا}", ref: "[البقرة: 190]" }
            ]
        },
        {
            id: 5,
            title: "رواية لا وصية لوارث",
            source: "صحيح أبي داوود",
            sourceUrl: "https://dorar.net/h/HimxSGJw",
            text: "إنَّ اللَّهَ قد أعطَى كلَّ ذي حقٍّ حقَّهُ فلا وصيَّةَ لوارثٍ",
            num: "2870",
            reason: "تأتي هذه الرواية لـ 'تنسخ' وتلغي حكماً قرآنيّاً قطعياً أوجب الوصية للوالدين والأقربين. الادعاء بأن آيات المواريث نسخت آية الوصية هو ادعاء يعطل العمل بالقرآن لصالح رواية أحادية.",
            proofs: [
                { label: "فرضية الوصية:", text: "{كُتِبَ عَلَيْكُمْ إِذَا حَضَرَ أَحَدَكُمُ الْمَوْتُ إِن تَرَكَ خَيْرًا الْوصِيَّةُ لِلْوَالِدَيْنِ وَالْأَقْرَبِينَ بِالْمَعْرُوفِ ۖ حَقًّا عَلَى الْمُتَّقِينَ}", ref: "[البقرة: 180]" },
                { label: "تحذير التبديل:", text: "{فَمَن بَدَّلَهُ بَعْدَمَا سَمِعَهُ فَإِنَّمَا إِثْمُهُ عَلَى الَّذِينَ يُبَدِّلُونَهُ}", ref: "[البقرة: 181]" }
            ]
        },
        {
            id: 6,
            title: "رواية أوتيت الكتاب ومثله معه",
            source: "صحيح أبي داود",
            sourceUrl: "https://dorar.net/h/EkoaTaCa",
            text: "ألا إنِّي أوتيتُ الكتابَ ومثلَهُ معهُ ، ألا يُوشِكُ رجُلٌ شبعانٌ على أريكتِهِ يقولُ عليكُم بِهذَا القُرآنِ فما وجدتُم فيهِ مِن حَلالٍ فأحلُّوه وما وَجدتُم فيهِ مِن حرامٍ فحرِّمُوه.",
            num: "4604",
            reason: "تؤسس هذه الرواية لمبدأ 'ازدواجية المصدر' في التشريع، حيث تدعي أن هناك 'وحياً' آخر مساوياً للقرآن في الحجية. هذا الادعاء يفتح الباب لتشريع أحكام لم ينزل بها الله سلطاناً.",
            proofs: [
                { label: "تفصيل كل شيء:", text: "{وَنَزَّلْنَا عَلَيْكَ الْكِتَابَ تِبْيَانًا لِّكُلِّ شَيْءٍ}", ref: "[النحل: 89]" },
                { label: "نفي المماثلة:", text: "{قُل لَّئِنِ اجْتَمَعَتِ الْإِنسُ وَالْجِنُّ عَلَىٰ أَن يَأْتُوا بِمِثْلِ هَٰذَا الْقُرْآنِ لَا يَأْتُونَ بِمِثْلِهِ}", ref: "[الإسراء: 88]" }
            ]
        },
        {
            id: 7,
            title: "رواية فتح مدينة هرقل",
            source: "السلسلة الصحيحة",
            sourceUrl: "https://dorar.net/h/Kwp2ylqd",
            text: "سُئِلَ رسولُ اللهِ : أيُّ المدينتيْنِ تُفتحُ أولًا القسطنطينيةُ أو روميَّةُ ؟ فقال رسولُ اللهِ : مدينةُ هرقلَ تُفتحُ أولًا : يعني قسطنطينيةَ.",
            num: "4",
            reason: "تؤسس هذه الرواية لمفهوم 'الغزو التوسعي' أو ما يسمى بـ 'جهاد الطلب'، حيث تتنبأ بسقوط مدن لم تكن في حالة اعتداء مباشر على المسلمين. القرآن جعل القتال وسيلة لرد العدوان فقط.",
            proofs: [
                { label: "حصر القتال:", text: "{وَقَاتِلُوا فِي سَبِيلِ اللَّهِ الَّذِينَ يُقَاتِلُونَكُمْ وَلَا تَعْتَدُوا}", ref: "[البقرة: 190]" },
                { label: "العدل مع المسالمين:", text: "{لَا يَنْهَاكُمُ اللَّهُ عَنِ الَّذِينَ لَمْ يُقَاتِلُوكُمْ فِي الدِّينِ... أَنْ تَبَرُّوهُمْ وَتُقْسِطُوا إِلَيْهِمْ}", ref: "[الممتحنة: 8]" }
            ]
        },
        {
            id: 8,
            title: "رواية نبع الماء وتسبيح الطعام",
            source: "البخاري",
            sourceUrl: "https://dorar.net/h/3Cdm6sOt",
            text: "فَلقَدْ رَأَيْتُ المَاءَ يَنْبُعُ مِن بَيْنِ أصَابِعِ رَسولِ اللَّهِ صَلَّى اللهُ عليه وسلَّمَ، ولقَدْ كُنَّا نَسْمَعُ تَسْبِيحَ الطَّعَامِ وهو يُؤْكَلُ.",
            num: "3579",
            reason: "تنسب للنبي معجزات حسية خارقة، وهذا يتناقض مع منطق القرآن الذي نص على أن البشر 'لا يفقهون' تسبيح المخلوقات، وأن الله منع المعجزات الحسية لأن الأولين كذبوا بها.",
            proofs: [
                { label: "استحالة فقه التسبيح:", text: "{وَإِن مِّن شَيْءٍ إِلَّا يُسَبِّحُ بِحَمْدِهِ وَلَٰكِن لَّا تَفْقَهُونَ تَسْبِيحَهُمْ}", ref: "[الإسراء: 44]" },
                { label: "بشرية الرسول:", text: "{قُلْ سُبْحَانَ رَبِّي هَلْ كُنتُ إِلَّا بَشَرًا رَّسُولًا}", ref: "[الإسراء: 93]" }
            ]
        },
        {
            id: 9,
            title: "رواية المباشرة أثناء الحيض",
            source: "البخاري",
            sourceUrl: "https://dorar.net/h/iJhqtZQd",
            text: "كَانَتْ إحْدَانَا إذَا كَانَتْ حَائِضًا... فأرَادَ رَسولُ اللَّهِ أَن يُبَاشِرَهَا أَمَرَهَا أَن تَتَّزِرَ... ثُمَّ يُبَاشِرُهَا.",
            num: "302",
            reason: "تأتي هذه الرواية لتضع استثناءات وتفاصيل مادية تخفف من حدة الأمر القرآني الصريح بـ 'الاعتزال'. فبينما يصف القرآن الحيض بأنه 'أذى' ويأمر بالاعتزال، تُصور الرواية النبي يبحث عن وسيلة للتماس.",
            proofs: [
                { label: "الأمر بالاعتزال:", text: "{وَيَسْأَلُونَكَ عَنِ الْمَحِيضِ قُلْ هُوَ أَذًى فَاعْتَزِلُوا النِّسَاءَ فِي الْمَحِيضِ}", ref: "[البقرة: 222]" },
                { label: "النهي عن القرب:", text: "{وَلَا تَقْرَبُوهُنَّ حَتَّىٰ يَطْطهُرْنَ}", ref: "[البقرة: 222]" }
            ]
        },
        {
            id: 10,
            title: "رواية وضع القَدَم في النار",
            source: "البخاري",
            sourceUrl: "https://dorar.net/h/IAvxiGpQ",
            text: "يُقالُ لِجَهَنَّمَ: هَلِ امْتَلَأْتِ، وتَقُولُ هلْ مِن مَزِيدٍ، فَيَضَعُ الرَّبُّ تَبارَكَ وتَعالَى قَدَمَهُ عليها، فَتَقُولُ: قَطْ قَطْ.",
            num: "4849",
            reason: "تنسب لله عز وجل 'القَدَم'، وهذا يقع في فخ 'التشبيه والتجسيم'، بينما الله ليس مادة. كما تُصور جهنم متمردة على إرادة الله حتى يضطر لوضع قدمه فيها.",
            proofs: [
                { label: "نفي المماثلة:", text: "{لَيْسَ كَمِثْلِهِ شَيْءٌ ۖ وَهُوَ السَّمِيعُ الْبَصِيرُ}", ref: "[الشورى: 11]" },
                { label: "سلطان الكلمة:", text: "{إِنَّمَا أَمْرُهُ إِذَا أَرَادَ شَيْئًا أَن يَقُولَ لَهُ كُن فَيَكُونُ}", ref: "[يس: 82]" }
            ]
        },
        {
            id: 11,
            title: "رواية كشف الساق",
            source: "البخاري",
            sourceUrl: "https://dorar.net/h/jiy0dYyK",
            text: "يَكْشِفُ رَبُّنا عن ساقِهِ، فَيَسْجُدُ له كُلُّ مُؤْمِنٍ ومُؤْمِنَةٍ...",
            num: "4919",
            reason: "تقوم هذه الرواية بـ 'تجسيم' الذات الإلهية عبر نسبة 'الساق' لله كجارحة مادية. وحولت تعبيراً قرآنياً مجازياً يدل على هول الموقف (يوم يُكشف عن ساق) إلى فعل مادي.",
            proofs: [
                { label: "نفي الإدراك:", text: "{لَّا تُدْرِكُهُ الْأَبْصَارُ وَهُوَ يُدْرِكُ الْأَبْصَارَ}", ref: "[الأنعام: 103]" },
                { label: "المجاز القرآني:", text: "{يَوْمَ يُكْشَفُ عَن سَاقٍ وَيُدْعَوْنَ إِلَى السُّجُودِ فَلَا يَسْتَطِيعُونَ}", ref: "[القلم: 42]" }
            ]
        },
        {
            id: 12,
            title: "رواية سحر النبي",
            source: "البخاري",
            sourceUrl: "https://dorar.net/h/ZnETYqVd",
            text: "سَحَرَ رَسولَ اللَّهِ صلَّى اللهُ عليه وسلَّم رَجُلٌ مِن بَنِي زُرَيْقٍ... حتَّى كانَ يُخَيَّلُ إلَيْهِ أنَّه كانَ يَفْعَلُ الشَّيْءَ وما فَعَلَهُ.",
            num: "5763",
            reason: "تضرب هذه الرواية مفهوم 'العصمة'؛ فادعاء أن النبي سُحر لدرجة التخيل يفتح باباً للتشكيك في تبليغ الوحي. نسبة السحر للنبي هي فرية سجلها القرآن وذم قائلها من الظالمين.",
            proofs: [
                { label: "وصف الظالمين:", text: "{وَقَالَ الظَّالِمُونَ إِن تَتَّبِعُونَ إِلَّا رَجُلًا مَّسْحُورًا}", ref: "[الفرقان: 8]" },
                { label: "العصمة الربانية:", text: "{وَاللَّهُ يَعْصِمُكَ مِنَ النَّاسِ}", ref: "[المائدة: 67]" }
            ]
        },
        {
            id: 13,
            title: "رواية تحريم الذهب للرجال",
            source: "البخاري",
            sourceUrl: "https://dorar.net/h/q8V86YHI",
            text: "أنَّهُ نَهَى عن خاتَمِ الذَّهَبِ... لا تَشْرَبُوا في آنِيَةِ الذَّهَبِ والفِضَّةِ... فإنَّهَا لهمْ في الدُّنْيَا ولَكُمْ في الآخِرَةِ.",
            num: "5864",
            reason: "تضع هذه الروايات قيوداً على نوع من أنواع الزينة، في حين أن القرآن قرر قاعدة أصلية وهي أن كل ما أخرجه الله من زينة هو مباح. التحريم في القرآن حصر في أمور محددة ليس منها المعادن.",
            proofs: [
                { label: "الإنكار على المحرمين:", text: "{قُلْ مَنْ حَرَّمَ زِينَةَ اللَّهِ الَّتِي أَخْرَجَ لِعِبَادِهِ وَالطَّيِّبَاتِ مِنَ الرِّزْقِ}", ref: "[الأعراف: 32]" },
                { label: "حصر المحرمات:", text: "{قُلْ إِنَّمَا حَرَّمَ رَبِّيَ الْفَوَاحِشَ...}", ref: "[الأعراف: 33]" }
            ]
        },
        {
            id: 14,
            title: "رواية الصلاة دون وضوء",
            source: "البخاري",
            sourceUrl: "https://dorar.net/h/LQvV0rNt",
            text: "ثُمَّ نَامَ حتَّى نَفَخَ... ثُمَّ أَتَاهُ المُؤِّذِّنُ، فَخَرَجَ، فَصَلَّى ولَمْ يَتَوضَّأْ.",
            num: "698",
            reason: "تنسب للنبي مخالفة صريحة للأمر القرآني بالوضوء عند القيام للصلاة بعد النوم. القول بأن النبي مستثنى يتناقض مع 'بشرية النبي' الذي هو أول المأمورين باتباع الوحي.",
            proofs: [
                { label: "وجوب الوضوء:", text: "{يَا أَيُّهَا الَّذِينَ آمَنُوا إِذَا قُمْتُمْ إِلَى الصَّلَاةِ فَاغْسِلُوا وُجُوهَكُمْ...}", ref: "[المائدة: 6]" },
                { label: "بشرية النبي:", text: "{قُلْ إِنَّمَا أَنَا بَشَرٌ مِّثْلُكُمْ يُوحَىٰ إِلَيَّ}", ref: "[الكهف: 110]" }
            ]
        },
        {
            id: 15,
            title: "رواية تعجيل الفطر",
            source: "البخاري",
            sourceUrl: "https://dorar.net/h/dvXWPa7D",
            text: "أنَّ رَسولَ اللَّهِ صَلَّى اللهُ عليه وسلَّمَ قالَ: لا يَزَالُ النَّاسُ بخَيْرٍ ما عَجَّلُوا الفِطْرَ.",
            num: "1957",
            reason: "تتصادم مع النص القرآني الذي حدد نهاية الصيام بـ 'الليل'. والليل يبدأ بعد غسق الغروب واختفاء الضياء، بينما التعجيل قد يؤدي للإفطار قبل حلول الليل فعلياً.",
            proofs: [
                { label: "تحديد الغاية:", text: "{ثُمَّ أَتِمُّوا الصِّيَامَ إِلَى اللَّيْلِ}", ref: "[البقرة: 187]" },
                { label: "تعريف الليل:", text: "{أَقِمِ الصَّلَاةَ لِدُلُوكِ الشَّمْسِ إِلَىٰ غَسَقِ اللَّيْلِ}", ref: "[الإسراء: 78]" }
            ]
        }
        // أضف الرواية 16 هنا بنفس التنسيق...
    ];

    // ==========================================
    // 2. محرك العرض (Logic) - لا تغير أي شيء هنا
    // ==========================================
    let filteredNovels = [...allNovels];
    const perPage = 15;
    let currentPage = 1;
    let scale = 1;

    function renderNovels() {
        const container = document.getElementById('hadithContainer');
        container.innerHTML = "";
        
        const start = (currentPage - 1) * perPage;
        const end = start + perPage;
        const pageData = filteredNovels.slice(start, end);

        if (pageData.length === 0) {
            container.innerHTML = "<p style='text-align:center; padding:50px;'>لا توجد نتائج تطابق بحثك...</p>";
        }

        pageData.forEach((novel) => {
            const card = `
            <div class="hadith-row">
                <div class="hadith-number-circle">${novel.id}</div>
                <div class="hadith-card" id="card-h${novel.id}">
                    <i class="far fa-bookmark fav-header-icon" onclick="toggleFavorite(event, '${novel.id}', '${novel.title}')"></i>
                    <div class="hadith-summary" onclick="toggleHadith(this)">
                        <h3 style="font-size: ${1.3 * scale}rem">${novel.title}</h3>
                        <div style="display:flex; align-items:center; gap:12px;">
                            <span class="source-tag">${novel.source}</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </div>
                    </div>
                    <div class="hadith-details">
                        <div class="detail-section">
                            <div class="section-header"><i class="fas fa-quote-right"></i> نص الرواية</div>
                            <div class="section-content" style="font-size: ${1.15 * scale}rem">${novel.text}</div>
                            <div class="section-content"><b>رقم الرواية: ${novel.num}</b></div>
                            <div class="hadith-actions">
                                <a href="${novel.sourceUrl}" target="_blank" class="action-btn btn-source"><i class="fas fa-external-link-alt"></i> مصدر الرواية</a>
                                <div class="action-btn btn-report" onclick="openReportModal('${novel.title}', '${novel.num}')"><i class="fas fa-flag"></i> إبلاغ</div>
                            </div>
                        </div>
                        <div class="detail-section">
                            <div class="section-header"><i class="fas fa-exclamation-triangle"></i> وجه التناقض</div>
                            <div class="section-content" style="font-size: ${1.15 * scale}rem">${novel.reason}</div>
                        </div>
                        <div class="detail-section">
                            <div class="section-header"><i class="fas fa-balance-scale"></i> الميزان (الرد القرآني)</div>
                            ${novel.proofs.map(p => `
                                <div class="section-content" style="font-size: ${1.15 * scale}rem">
                                    <b style="font-weight: bold;">${p.label}</b> قال تعالى: 
                                    <span style="color: #0056b3; font-weight: 500;">${p.text}</span> 
                                    <span style="font-size: 12px; color: #28a745;">${p.ref}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            </div>`;
            container.innerHTML += card;
        });

        updatePaginationUI();
        updateFavIcons();
    }

    function updatePaginationUI() {
        const totalPages = Math.ceil(filteredNovels.length / perPage);
        document.getElementById('pageInfo').textContent = `الصفحة ${currentPage} من ${totalPages || 1}`;
        document.getElementById('prevPage').disabled = currentPage === 1;
        document.getElementById('nextPage').disabled = currentPage === totalPages || totalPages === 0;
        document.getElementById('firstPage').disabled = currentPage === 1;
    }

    function changePage(step) {
        currentPage += step;
        renderNovels();
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function goToPage(p) {
        currentPage = p;
        renderNovels();
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function handleSearch() {
        const query = document.getElementById('globalSearch').value.toLowerCase();
        filteredNovels = allNovels.filter(n => 
            n.title.toLowerCase().includes(query) || 
            n.text.toLowerCase().includes(query) ||
            n.reason.toLowerCase().includes(query)
        );
        currentPage = 1;
        renderNovels();
    }

    // ==================== UI Helpers ====================
    function toggleHadith(el) {
        const details = el.nextElementSibling;
        const row = el.closest('.hadith-row');
        details.classList.toggle('open');
        const icon = el.querySelector('.toggle-icon');
        if(icon) icon.style.transform = details.classList.contains('open') ? 'rotate(180deg)' : 'rotate(0deg)';
    }

    function changeFont(delta) {
        scale = Math.min(Math.max(scale + delta, 0.8), 1.6);
        renderNovels();
    }
    function resetFont() { scale = 1; renderNovels(); }

    function toggleMobileMenu() {
        const links = document.getElementById('navLinks');
        const overlay = document.getElementById('navOverlay');
        links.classList.toggle('show');
        overlay.style.display = links.classList.contains('show') ? 'block' : 'none';
    }

    // ==================== Favorites Logic ====================
    function toggleFavorite(e, id, title) {
        e.stopPropagation();
        let favs = JSON.parse(localStorage.getItem('myNovelsFavs')) || [];
        const index = favs.findIndex(f => f.id == id);
        
        if (index > -1) {
            favs.splice(index, 1);
        } else {
            favs.push({ id, title, type: 'رواية' });
        }
        
        localStorage.setItem('myNovelsFavs', JSON.stringify(favs));
        updateFavIcons();
    }

    function updateFavIcons() {
        const favs = JSON.parse(localStorage.getItem('myNovelsFavs')) || [];
        document.querySelectorAll('.fav-header-icon').forEach(icon => {
            const id = icon.parentElement.id.replace('card-h', '');
            if (favs.some(f => f.id == id)) {
                icon.classList.replace('far', 'fas');
                icon.style.color = 'var(--primary-color)';
            } else {
                icon.classList.replace('fas', 'far');
                icon.style.color = 'var(--matte-purple)';
            }
        });
    }

    // ==================== Modal & Back to Top ====================
    function openReportModal(name, num) {
        document.getElementById('modalHadithInfo').textContent = `أنت تبلغ عن: ${name} (رقم ${num})`;
        document.getElementById('reportModal').classList.add('show');
        document.body.classList.add('no-scroll');
    }
    function closeReportModal() {
        document.getElementById('reportModal').classList.remove('show');
        document.body.classList.remove('no-scroll');
    }
    function handleReportSubmit(e) {
        e.preventDefault();
        closeReportModal();
        const toast = document.getElementById("successToast");
        toast.classList.add("show");
        setTimeout(() => toast.classList.remove("show"), 3000);
    }

    window.addEventListener('scroll', () => {
        const btt = document.getElementById('backToTop');
        btt.style.display = window.scrollY > 400 ? 'flex' : 'none';
    });

    document.addEventListener('DOMContentLoaded', renderNovels);
</script>
</body>
</html>
