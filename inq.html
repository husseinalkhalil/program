<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>تساؤلات - حسين الخليل</title>
    <!-- AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4459876088599546" crossorigin="anonymous"></script>
    <!-- Favicon -->
    <link href="images/logo-small.png" rel="icon" type="image/png"/>
    <link href="images/logo-small.png" rel="apple-touch-icon"/>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* Shared Variables & Styles */
        :root {
            --primary-color: #5e2ca5;
            --primary-dark: #451b7a;
            --primary-light: #8a5bc7;
            --accent-color: #ffd700;
            --bg-color: #f9f7f2;
            
            /* اللون الجديد الموحد: ضباب اللافندر */
            --surface-color: #F8F5FD; 
            
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            
            /* تحديث الظلال */
            --shadow-sm: 0 4px 15px rgba(94, 44, 165, 0.08);
            --shadow-md: 0 8px 20px rgba(94, 44, 165, 0.12);
            --shadow-lg: 0 15px 30px rgba(0,0,0,0.1);
            
            --radius-lg: 1rem;
            --radius-xl: 1.5rem;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* منع السكرول عند فتح القائمة */
        body.no-scroll {
            overflow: hidden !important;
            height: 100vh;
        }

        a { text-decoration: none; color: inherit; transition: all 0.3s ease; }

        /* ==================== Navigation ==================== */
        .nav-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(4px);
            z-index: 998; display: none;
        }

        nav {
            background: rgba(94, 44, 165, 0.95);
            backdrop-filter: blur(10px);
            padding: 0.8rem 2%;
            position: fixed; width: 100%; top: 0;
            z-index: 1000;
            display: flex; align-items: center; justify-content: space-between;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .logo-container img { height: 40px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2)); }

        .nav-links {
            display: flex; flex: 1; justify-content: space-evenly;
            align-items: center; flex-wrap: wrap; margin: 0 20px;
        }

        .nav-links a {
            color: white; font-weight: 700; font-size: 1.05rem;
            padding: 8px 12px; border-radius: 20px;
            display: flex; align-items: center; gap: 5px; white-space: nowrap;
        }

        .nav-links a:hover { background: rgba(255,255,255,0.15); transform: translateY(-2px); }

        .hamburger { display: none; color: white; font-size: 1.5rem; cursor: pointer; }

        @media (max-width: 1200px) {
            .hamburger { display: block; order: 1; }
            .logo-container { order: 2; }
            .nav-links {
                position: fixed; top: 60px; right: -280px; width: 280px;
                background: var(--surface-color); /* استخدام اللون الجديد */
                flex-direction: column;
                padding: 20px; height: calc(100vh - 60px);
                box-shadow: -5px 0 15px rgba(0,0,0,0.1); transition: right 0.3s ease;
                overflow-y: auto; flex-wrap: nowrap; justify-content: flex-start;
                gap: 10px; margin: 0; flex: unset;
            }
            .nav-links.show { right: 0; }
            .nav-links a { 
                color: var(--text-primary); width: 100%; padding: 12px; 
                border-radius: 8px; font-size: 1rem; justify-content: flex-start; 
                border-bottom: 1px solid rgba(0,0,0,0.03);
            }
            .nav-links a:hover { background: rgba(94, 44, 165, 0.05); color: var(--primary-color); transform: none; }
            nav { padding: 0.8rem 5%; }
        }

        /* Hero Section */
        .hero-section {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            padding: 120px 20px 140px; /* مسافة سفلية إضافية للتداخل */
            text-align: center; color: white;
            border-radius: 0 0 50px 50px; position: relative;
            z-index: 1; /* الخلفية في الطبقة السفلية */
        }

        .hero-content {
            max-width: 900px; margin: 0 auto;
            display: flex; flex-direction: column; align-items: center; gap: 20px;
        }

        .hero-text h1 { font-size: 2.5rem; margin-bottom: 10px; font-weight: 800; }
        .hero-text p { font-size: 1.2rem; opacity: 0.9; max-width: 700px; margin: 0 auto; }

        /* Global Search Box (Inside Main Wrapper) */
        .universal-search { 
            width: 100%; max-width: 600px; 
            position: relative; 
            z-index: 100; /* أعلى طبقة */
            margin: 0 auto 40px auto; 
        }
        
        #globalSearch {
            width: 100%; padding: 18px 50px 18px 25px;
            border-radius: 50px; border: none; font-size: 1rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            font-family: 'Tajawal', sans-serif; outline: none; background: white;
            transition: box-shadow 0.3s ease;
        }
        #globalSearch:focus { box-shadow: 0 0 0 4px rgba(255, 215, 0, 0.4); }

        .search-icon-placeholder {
            position: absolute; right: 20px; top: 50%; transform: translateY(-50%);
            color: var(--primary-color); pointer-events: none;
        }

        /* Search Results Dropdown */
        .search-results {
            position: absolute; top: 115%; left: 0; right: 0;
            background: #ffffff; border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.2); max-height: 400px;
            overflow-y: auto; z-index: 10000; text-align: right;
            display: none; color: var(--text-primary);
            border: 1px solid rgba(0,0,0,0.05);
        }
        .search-results::-webkit-scrollbar { width: 8px; }
        .search-results::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 0 0 0 15px; }
        .search-results::-webkit-scrollbar-thumb { background: var(--primary-light); border-radius: 4px; }

        .search-count {
            padding: 10px 20px; font-size: 0.9rem; color: var(--primary-color);
            border-bottom: 2px solid rgba(94, 44, 165, 0.1); background: #f8fafc;
            border-radius: 15px 15px 0 0; font-weight: 700;
        }

        .search-item {
            padding: 15px 20px; border-bottom: 1px solid rgba(0,0,0,0.05);
            cursor: pointer; transition: background 0.2s;
        }
        .search-item:last-child { border-bottom: none; }
        .search-item:hover { background: rgba(94, 44, 165, 0.05); }
        .search-item h3 { color: var(--primary-color); font-size: 1rem; margin-bottom: 5px; font-weight: 700; }
        .search-item p { font-size: 0.9rem; color: var(--text-secondary); margin: 0; line-height: 1.4; }
        .search-item mark { background-color: #ffd700; color: #422006; padding: 0 3px; border-radius: 3px; }

        /* Container Structure */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .main-wrapper {
            position: relative;
            z-index: 20; /* طبقة البطاقات */
            margin-top: -90px; /* سحب للأعلى */
            max-width: 900px;
            margin-left: auto; margin-right: auto; margin-bottom: 60px;
        }

        /* Results Info (Removed - Using Dropdown) */
        .search-results-info { display: none; }

        /* FAQ Styling */
        #faqList { display: flex; flex-direction: column; gap: 20px; }

        details {
            background: var(--surface-color); border-radius: 16px;
            box-shadow: var(--shadow-sm); overflow: hidden; transition: all 0.3s ease;
            border: 1px solid rgba(0,0,0,0.03); border-right: 5px solid var(--primary-color);
            position: relative; z-index: 1; /* تجنب التداخل مع القوائم */
        }
        details:hover { transform: translateY(-2px); box-shadow: var(--shadow-md); }
        details[open] { box-shadow: var(--shadow-md); border-color: var(--primary-light); }

        summary {
            padding: 20px 25px; font-weight: 700; font-size: 1.1rem;
            color: var(--text-primary); cursor: pointer; list-style: none;
            position: relative; display: flex; align-items: center; justify-content: space-between;
        }
        summary::-webkit-details-marker { display: none; }
        summary::after {
            content: '\f078'; font-family: "Font Awesome 6 Free"; font-weight: 900;
            color: var(--primary-color); transition: transform 0.3s;
        }
        details[open] summary::after { transform: rotate(180deg); }
        details[open] summary { border-bottom: 1px solid rgba(0,0,0,0.05); background: rgba(94, 44, 165, 0.03); color: var(--primary-dark); }

        details p {
            padding: 20px 25px; margin: 0; color: var(--text-secondary);
            line-height: 1.8; font-size: 1rem; background: white;
        }

        /* Pagination */
        #pagination-wrapper { background: var(--surface-color); padding: 25px; border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); text-align: center; margin: 40px auto; border: 1px solid rgba(0,0,0,0.05); max-width: 500px; }
        .pagination-btn { background: #f1f5f9; color: var(--text-primary); border: none; padding: 10px 20px; border-radius: 12px; cursor: pointer; margin: 0 5px; font-family: 'Tajawal'; font-weight: 600; transition: 0.3s; }
        .pagination-btn:hover { background: var(--primary-color); color: white; transform: translateY(-2px); }
        .pagination-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; background: #e2e8f0; color: #94a3b8; }
        #firstPage { background: rgba(94, 44, 165, 0.1); color: var(--primary-color); }

        /* Social */
        .social-section { text-align: center; margin-bottom: 60px; background: var(--surface-color); padding: 40px; border-radius: var(--radius-xl); box-shadow: var(--shadow-sm); }
        .section-title { text-align: center; margin-bottom: 40px; position: relative; }
        .section-title h2 { color: var(--primary-color); font-size: 2rem; display: inline-block; padding-bottom: 15px; }
        .section-title h2::after { content: ''; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 60px; height: 4px; background: var(--accent-color); border-radius: 2px; }
        .social-grid { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-top: 30px; }
        .social-btn { width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.05); transition: all 0.3s; }
        .social-btn img { width: 24px; height: 24px; transition: filter 0.3s; }
        .social-btn:hover { transform: translateY(-5px) scale(1.1); }
        .social-btn:hover img { filter: brightness(0) invert(1); }
        .social-btn.facebook:hover { background: #1877F2; }
        .social-btn.instagram:hover { background: #E4405F; }
        .social-btn.youtube:hover { background: #FF0000; }
        .social-btn.tiktok:hover { background: #000000; }
        .social-btn.telegram:hover { background: #0088CC; }
        .social-btn.snap:hover { background: #FFFC00; }
        .social-btn.snap:hover img { filter: none; }

        /* Footer */
        footer { background: var(--primary-dark); color: white; padding: 40px 20px; text-align: center; margin-top: auto; }
        .footer-links { display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; flex-wrap: wrap; }
        .footer-links a { color: rgba(255,255,255,0.8); font-size: 0.9rem; }
        .footer-links a:hover { color: var(--accent-color); }
        .copyright { color: rgba(255,255,255,0.6); font-size: 0.85rem; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px; }

        /* Fixed Buttons */
        .share-fixed-btn { position: fixed; bottom: 30px; left: 30px; width: 50px; height: 50px; background: var(--accent-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(0,0,0,0.2); cursor: pointer; z-index: 990; transition: transform 0.3s; }
        .share-fixed-btn:hover { transform: scale(1.1); }
        .share-fixed-btn img { width: 24px; filter: brightness(0); }

        .back-to-top { position: fixed; bottom: 30px; right: 30px; width: 50px; height: 50px; background: var(--primary-color); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; opacity: 0; pointer-events: none; transition: 0.3s; z-index: 995; box-shadow: var(--shadow-md); font-size: 1.2rem; }
        .back-to-top.visible { opacity: 1; pointer-events: all; }
        .back-to-top:hover { transform: translateY(-5px); background: var(--primary-dark); }
        .copy-alert { position: fixed; top: 100px; left: 50%; transform: translateX(-50%); background: var(--primary-color); color: white; padding: 12px 25px; border-radius: 30px; box-shadow: var(--shadow-lg); z-index: 10000; opacity: 0; transition: opacity 0.3s; pointer-events: none; }
        .copy-alert.show { opacity: 1; }

        @media (max-width: 900px) { 
            .hero-text h1 { font-size: 2rem; } 
            /* زيادة المسافة السفلية في الموبايل لتجنب التداخل */
            .hero-section { padding: 100px 20px 160px; }
            .share-fixed-btn { display: none; } 
        }
        @media (max-width: 768px) { .footer-links { gap: 12px; } .social-grid { gap: 5px; flex-wrap: nowrap; } .social-btn { width: 48px; height: 48px; flex-shrink: 0; } }
    </style>
</head>
<body>

    <div class="nav-overlay" onclick="toggleMobileMenu()"></div>

    <!-- Navigation -->
    <nav>
        <div class="logo-container">
            <a href="index.html">
                <img src="images/logo.png" alt="شعار حسين الخليل" />
            </a>
        </div>

        <div class="nav-links">
            <a href="index.html">الرئيسية</a>
            <a href="books.html">الكتب</a>
            <a href="articles.html">المقالات</a>
            <a href="khawatir.html">خواطر</a>
            <a href="videos.html">الفيديوهات</a>
            <a href="history.html">التاريخ</a>
            <a href="podcast.html">البودكاست</a>
            <a href="ask.html">الأسئلة</a>
            <a href="hewar.html">حوارات</a>
            <a href="inq.html" style="background: rgba(255,255,255,0.2);">تساؤلات</a>
            <a href="manhaj.html">المنهج</a>
            <a href="favorites.html">المفضلة</a>
            <a href="support.html">دعم المحتوى</a>
            <a href="about.html">من نحن</a>
            <a href="#" onclick="window.print()" title="طباعة"><i class="fas fa-print"></i></a>
            <a href="#" onclick="handleMobileShare(); return false;" class="mobile-share-link" style="display: none;">مشاركة</a>
        </div>

        <div class="hamburger" onclick="toggleMobileMenu()">
            <i class="fas fa-bars"></i>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero-section">
        <div class="hero-content">
            <div class="hero-text">
                <h1>تساؤلات</h1>
                <p>إطار نقدي لطرح الأسئلة وفحصها بميزان القرآن</p>
            </div>
            <!-- Search Box Moved Down -->
        </div>
    </header>

    <!-- Main Content Wrapper -->
    <div class="container main-wrapper">
        
        <!-- Global Search Box (Inside Main Wrapper) -->
        <div class="universal-search">
            <i class="fas fa-search search-icon-placeholder"></i>
            <input type="text" id="globalSearch" placeholder="ابحث في جميع المحتويات..." />
            <div class="search-results" id="searchResults"></div>
        </div>

        <div id="faqList">
            <!-- FAQs -->
            <details><summary>هل هناك وحي غير القرآن؟</summary><p>لا؛ الوحي واحد فقط وهو القرآن، إستناداً لقوله تعالى (وَأُوحِيَ إِلَيَّ هَٰذَا الْقُرْآنُ لِأُنذِرَكُم بِهِ)</p></details>
            <details><summary>من صاحب مقولة: الوحي الثاني؟</summary><p>أول من أطلق هذه المقولة هو الإمام الشافعي، فقبل هذه  المقولة لا وجود لمصطلح الوحي الثاني.</p></details>
            <details><summary> هل هناك عقوبة لتارك الصلاة أو المتهاون بها؟ </summary><p> لا يوجد في القرآن أي إشارة لعقوبة تارك او المتهاون بالصلاة الحركية. </p></details>
            <details><summary> هل للصلاة في القرآن مفهوم واحد؟ </summary><p> لا، بل تنقسم إلى قسمين، الأول الصلاة الروحانية، أي الصلة بالله، والثاني الصلاة الحركية، التركيز كله والوعيد على الصلاة الروحانية وليس الحركية. </p></details>
            <details><summary> هل يجوز للحائض أن تصوم وتصلي؟ </summary><p> نعم، إذا استطاعت ذلك فلها أن تصوم وتصلي لأن المنع جاء من التراث وليس القرآن، لكن إذا شق عليها ذلك، فعليها أن تتوقف وتأخذ حكم المريض. </p></details>
            <details><summary> هل يجوز للحائض لمس القرآن والقراءة منه؟ </summary><p> نعم يجوز لها أن تتصفحه وتقرأ منه. </p></details>
            <details><summary> هل الرجم تشريع في الدين؟ </summary><p> لا، القرآن لم يذكر الرجم كعقوبة، بل جاء به رجال الدين من التراث وليس من القرآن. </p></details>
            <details><summary> هل طلاء الأظافر (المناكير) يبطل الوضوء أو الصلاة؟ </summary><p> لا، وهل الغلو في الدين جاء به رجال الدين وليس القرآن، فالمرأة لها أن تتوضأ وتصلي وهي تضع طلاء الأظافر. </p></details>
            <details><summary> هل الختان واجب على الذكر؟ </summary><p> الختان جريمة بحق الإنسانية والإسلام بريء منه ولم يشرّعه الله بل رجال الدين. </p></details>
            <details><summary> هل يجوز للمرأة أن تصلي بملابسها العادية داخل البيت دون أن تلبس ملابس الصلاة؟ </summary><p> نعم يجوز لها ذلك. </p></details>
            <details><summary> صديقي مسيحي وقدم لي طعامًا، فهل يجوز أن آكله؟ </summary><p> نعم يجوز لك ذلك ﴿وَطَعامُ الَّذينَ أوتُوا الكِتابَ حِلٌّ لَكُم وَطَعامُكُم حِلٌّ لَهُم﴾ [المائدة: 5] </p></details>
            <details><summary> أقوم بتربية كلب في بيتي وسمعت أن هذا محرم ويمنع دخول الملائكة البيت، فما حكم القرآن؟ </summary><p> هذا الكلام غير صحيح، القرآن لم يمنع تربية الكلب في البيت طالما أنها خالية من أي أمراض مضرة. </p></details>
            <details><summary> هل يصل ثواب قراءة القرآن للميت؟ </summary><p> لا، لأن الإنسان محاسب على أفعاله هو. ﴿وَأَن لَيسَ لِلإِنسانِ إِلّا ما سَعى﴾ [النجم: 39] </p></details>
            <details><summary> مسلم دفن في مقابر اليهود ويهودي دفن في مقابر المسلمين، هل يغير شيء من مصير الميت وهل الدفن جائز؟ </summary><p> دفن المسلم في مقابر غير المسلمين أو دفنه في البقيع أو موته ساجدًا أو يوم الجمعة أو في رمضان وغيره، لا يغير شيء من مصيره لأن الله سيحاسبه على عمله الذي فعله في حياته وليس على طريقة موته أو أين دفن، والقرآن لم يمنع دفن المسلم في مقابر غير المسلمين أو العكس، كل هذا إنما عادات مجتمعية لا أكثر لأن طريقة الدفن والمكان لا يؤثر شيئًا في مصير الميت. </p></details>
            <details><summary> هل هناك عذاب في القبر؟ </summary><p> لا يوجد عذاب في القبر، والقرآن يعطي دلالات ينفي هذا الشيء، عذاب القبر جاء عن طريق التراث وليس القرآن. </p></details>
            <details><summary> ما حقيقة الثعبان الأقرع؟ </summary><p> خرافة تراثية ما أنزل الله بها من سلطان. </p></details>
            <details><summary> ما حقيقة ضغطة القبر؟ </summary><p> خرافة تراثية ما أنزل الله بها من سلطان. </p></details>
            <details><summary> ما حقيقة منكر ونكير؟ </summary><p> خرافة تراثية ما أنزل الله بها من سلطان. </p></details>
            <details><summary> كفّروني بعض رجال الدين لأني لم أؤمن بكتب التراث وقالوا أني خرجت عن الملة. </summary><p> تكفيرهم لك لا يقدم ولا يؤخر وليس له أي اعتبار عند الله لأنهم بشر مثلك لا يملكون من أمرهم شيء، الله سيحاسبك بناءًا على عملك وعلمه هو بك وليس بناءًا على تزكية البشر أو تكفيرهم لك. </p></details>
            <details><summary> هل الموسيقى حرام؟ </summary><p> كلا، بل هي غذاء للروح، القرآن لم يحرمها. </p></details>
            <details><summary>لماذا لا نؤمن بالروايات؟</summary><p>لأن القرآن لم يطلب مرجعًا فوقه، ولأن الروايات كُتبت بعد وفاة النبي بمئات السنين.</p></details>
            <details><summary>هل يجب أن نلتزم بتفاسير الأولين وهل هي تفاسير توقيفية؟</summary><p>القرآن يفهم بحسب الزمان والمكان وبحسب الأدوات المعرفية، التفاسير السابقة صالحة لزمانها ومكانها وغير صالحة لهذا الزمان ولسنا مطالبين بها لأنها اجتهادات بشرية قابلة للنقد.</p></details>
            <details><summary>هل نحن ملزمون بكتب الروايات واجماع الفقهاء؟</summary><p>لا، نحن ملزمون بالوحي الوحيد فقط، (القرآن)، وكل ما هو دون القرآن من كتب روايات وفقه واجماع واتفاق، إنما هي اجتهادات بشرية لا قداسة لها.</p></details>
            <details><summary>ما هو أساس التفكير القرآني؟</summary><p>الأساس هو العقل والمنطق والفطرة السليمة، مع الاعتماد على النص القرآني كمصدر رئيسي أوحد.</p></details>
            <details><summary>هل يمكن الجمع بين القرآن والتراث؟</summary><p>يمكن الاستفادة من التراث كخلفية تاريخية، لكن لا يمكن جعله مساوياً أو أعلى من النص القرآني.</p></details>
            <details><summary>ما موقفكم من الأحاديث النبوية?</summary><p>نحترم الأحاديث النبوية ولكن نتعامل معها كروايات تاريخية تحتاج إلى تمحيص ولا نعتبرها مصدراً تشريعياً ملزماً.</p></details>
            <details><summary>كيف نتعامل مع الاختلافات في التفسير؟</summary><p> الاختلاف سنة، ونحن نرى فيه ثراءً فكرياً ما دام محكوماً بضوابط المنهج القرآني.</p></details>
            <details><summary>ما هي أهم مبادئ المنهج القرآني؟</summary><p>أهم المبادئ: العقلانية، الوضوح، الاتساق الداخلي، والانسجام مع الفطرة الإنسانية.</p></details>
            <details><summary>هل هناك مرجعية بشرية في المنهج القرآني؟</summary><p>لا توجد مرجعية بشرية مطلقة، المرجعية الوحيدة هي للنص القرآني مع فهمه بالعقل والمنطق.</p></details>
            <details><summary>كيف نثبت صحة المنهج القرآني؟</summary><p>بنتائجه العملية في حياة الإنسان، وبقدرته على تقديم إجابات مقنعة ومنطقية للتحديات المعاصرة.</p></details>
            <details><summary>ما الفرق بين القرآن والتراث؟</summary><p>القرآن هو الوحي الإلهي الثابت، والتراث هو الفهم البشري المتغير عبر العصور.</p></details>
            <details><summary>هل يمكن تطوير المنهج القرآني؟</summary><p>نعم، المنهج قابلاً للتطوير والمراجعة المستمرة مع تطور المعرفة الإنسانية.</p></details>
            <details><summary>ما دور العقل في المنهج القرآني؟</summary><p>العقل هو الأداة الرئيسية لفهم النص القرآني وتطبيقه في الواقع المعاصر.</p></details>
            <details><summary>كيف نتعامل مع النصوص التي تبدو متعارضة؟</summary><p>نبحث عن السياق والمقصد العام، ونتعامل مع النص ككل متكامل لا كمقاطع منفصلة.</p></details>
            <details><summary>ما أهمية السياق في فهم النص القرآني؟</summary><p>السياق أساسي لفهم أي نص، وهو الذي يحدد المعنى الحقيقي والدلالة المقصودة.</p></details>
            <details><summary>هل يمكن فهم القرآن دون معرفة باللسان العربي؟</summary><p>المعرفة باللسان العربي يساعد، لكن الفهم الجوهري ممكن عبر الترجمات والتفكر في المقاصد.</p></details>
            <details><summary>ما موقف المنهج القرآني من العلوم الحديثة؟</summary><p>نرحب بالعلوم الحديثة ونتعامل معها كوسائل لفهم أعمق للكون والحياة، دون تعارض مع المبادئ القرآنية.</p></details>
            <details><summary>كيف نوفق بين النص والعقل عندما يبدوان متعارضين؟</summary><p>لا تعارض حقيقي بين النص الصحيح والعقل السليم، وأي تعارض ظاهري يحتاج إلى إعادة نظر في الفهم.</p></details>
            <details><summary>ما دور الأخلاق في المنهج القرآني؟</summary><p>الأخلاق هي الغاية الأساسية من التشريع، وكل فهم يخالف الأخلاق يحتاج إلى مراجعة.</p></details>
            <details><summary>هل المنهج القرآني يصلح لكل زمان ومكان؟</summary><p>نعم، لأنه يعتمد على مبادئ ثابتة قابلة للتطبيق في مختلف الظروف والأزمنة.</p></details>
            <details><summary>كيف نتعامل مع التراث الفقهي الإسلامي؟</summary><p>نتعامل معه كتراث فكري إنساني قابل للدراسة والنقد، وليس كنصوص مقدسة.</p></details>
            <details><summary>ما الفرق بين الدين والتديّن؟</summary><p>الدين هو المبادئ الثابتة، والتديّن هو الممارسات البشرية المتغيرة التي قد تصيب وقد تخطئ.</p></details>
            <details><summary>هل يمكن أن يتطور الفهم الديني؟</summary><p>نعم، الفهم الديني يتطور مع تطور المعرفة والإدراك الإنساني.</p></details>
            <details><summary>ما معنى "لا إكراه في الدين" في التطبيق العملي؟</summary><p>يعني حرية الاعتقاد والضمير، ورفض أي شكل من أشكال الإجبار في الأمور الدينية.</p></details>
            <details><summary>كيف نحدد ما هو أساسي وما هو ثانوي في الدين؟</summary><p>الأساسيات هي المبادئ الكبرى والأخلاق والقيم، والثانويات هي التفاصيل والشكليات.</p></details>
            <details><summary>ما دور المرأة في المنهج القرآني؟</summary><p>المرأة شريكة كاملة في المسؤولية والحقوق، ولها مكانة متساوية مع الرجل في الكرامة الإنسانية.</p></details>
            <details><summary>هل هناك قداسة للشخصيات الدينية؟</summary><p>لا قداسة لأي شخص، الجميع بشر يصيبون ويخطئون، والقداسة لله وحده.</p></details>
            <details><summary>كيف نتعامل مع التنوع الديني والمذهبي؟</summary><p>بالاحترام والحوار، والاعتراف بحق الآخر في الاختلاف، مع التركيز على القواسم المشتركة.</p></details>
            <details><summary>ما هو مفهوم الجهاد في المنهج القرآني؟</summary><p>الجهاد هو الكفاح من أجل الحق والعدل، وليس قتالاً من أجل الإكراه أو السيطرة.</p></details>
            <details><summary>كيف نطبق المنهج القرآني في الحياة اليومية؟</summary><p>بجعل القيم القرآنية دليلًا في التعاملات، والتفكر في الآيات، والسعي للعدل والإحسان.</p></details>
            <details><summary>ما موقف المنهج القرآني من الديمقراطية؟</summary><p>لا تعارض بين المبادئ القرآنية والديمقراطية، بل يمكن أن يتكاملَا في إطار القيم المشتركة.</p></details>
            <details><summary>كيف نربي الأبناء على المنهج القرآني؟</summary><p>بغرس قيم التساؤل والتفكر، وتعليمهم احترام التنوع، وتنمية الضمير الأخلاقي.</p></details>
            <details><summary>ما مفهوم الحرية في المنهج القرآني؟</summary><p>الحرية مسؤولية، وهي حق أساسي للإنسان في الفكر والاعتقاد والممارسة ما لم تضر بالآخرين.</p></details>
            <details><summary>كيف نتعامل مع النصوص التي تبدو صعبة الفهم؟</summary><p>بالرجوع إلى السياق، والمقصد العام، واستشارة مختلف أهل المعرفة، والصبر في البحث.</p></details>
            <details><summary>ما دور الفنون في المنهج القرآني؟</summary><p>الفنون تعبير عن الجمال والإبداع، وهي وسيلة للتعبير عن القيم والمشاعر الإنسانية النبيلة.</p></details>
            <details><summary>هل يمكن التوفيق بين الدين والعلم؟</summary><p>نعم، لا تعارض بين الدين الحقيقي والعلم الصحيح، بل يتكاملان في البحث عن الحقيقة.</p></details>
            <details><summary>ما مفهوم العدالة الاجتماعية في المنهج القرآني؟</summary><p>العدالة الاجتماعية هي تحقيق التوازن في توزيع الثروات والفرص، وحماية حقوق الضعفاء.</p></details>
            <details><summary>كيف نطور فهمنا للقرآن؟</summary><p>بالدراسة المستمرة، والحوار مع الآخرين، والانفتاح على مختلف التفسيرات والآراء.</p></details>
            <details><summary>ما موقف المنهج القرآني من حقوق الإنسان؟</summary><p>يؤكد على كرامة الإنسان وحقوقه الأساسية، ويعتبر العدل والحرية من القيم المركزية.</p></details>
            <details><summary>كيف نتعامل مع التحديات المعاصرة؟</summary><p>باستلهام المبادئ القرآنية، والاجتهاد الجماعي، والانفتاح على الحكمة.</p></details>
            <details><summary>ما هو مستقبل المنهج القرآني؟</summary><p>مستقبله مشرق لأنه يستجيب لحاجات العصر، ويقدم إجابات منطقية للتحديات المعاصرة.</p></details>
        </div>

        <!-- Pagination -->
        <div id="pagination-wrapper">
            <span id="pageInfo">الصفحة 1 من 1</span>
            <div style="margin-top: 15px;">
                <button id="firstPage" class="pagination-btn">الأولى</button>
                <button id="prevPage" class="pagination-btn">السابق</button>
                <button id="nextPage" class="pagination-btn">التالي</button>
            </div>
        </div>

        <!-- Social Media -->
        <div class="social-section">
            <div class="section-title">
                <h2>تابعني على مواقع التواصل</h2>
            </div>
            <div class="social-grid">
                <a href="https://youtube.com/@husseinalkhalil" target="_blank" class="social-btn youtube" title="يوتيوب">
                    <img src="icons/yot-soc.png" alt="يوتيوب">
                </a>
                <a href="https://www.facebook.com/share/1C2wBZkwXH/?mibextid=wwXIfr" target="_blank" class="social-btn facebook" title="فيسبوك">
                    <img src="icons/fac-soc.png" alt="فيسبوك">
                </a>
                <a href="https://www.instagram.com/husseinalkhalil?igsh=YmNhZWdlOWQ5NGNm&utm_source=qr" target="_blank" class="social-btn instagram" title="إنستغرام">
                    <img src="icons/ins-soc.png" alt="إنستغرام">
                </a>
                <a href="https://t.me/tanoeer" target="_blank" class="social-btn telegram" title="تلغرام">
                    <img src="icons/tel-soc.png" alt="تلغرام">
                </a>
                <a href="https://www.tiktok.com/@h.alkhalil?_t=ZS-8vj5cEPU6jp&_r=1" target="_blank" class="social-btn tiktok" title="تيك توك">
                    <img src="icons/tik-soc.png" alt="تيك توك">
                </a>
                <a href="https://snapchat.com/t/sFLWjw3K" target="_blank" class="social-btn snap" title="سناب شات">
                    <img src="icons/snap.png" alt="سناب شات">
                </a>
            </div>
        </div>
    </div>

    <!-- Fixed Buttons -->
    <div class="share-fixed-btn" onclick="handleMobileShare()">
        <img src="images/share.png" alt="مشاركة">
    </div>

    <div class="back-to-top" onclick="scrollToTop()">
        <i class="fas fa-arrow-up"></i>
    </div>

    <div class="copy-alert" id="copyAlert">تم نسخ الرابط بنجاح ✅</div>

    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="terms.html">الشروط والأحكام</a>
                <a href="privacy.html">سياسة الخصوصية</a>
                <a href="contact.html">اتصل بنا</a>
                <a href="feedback.html">شاركنا رأيك</a>
            </div>
            <div class="copyright">
                حسين الخليل - جميع الحقوق محفوظة © 2025
            </div>
        </div>
    </footer>

    <script>
        // Toggle Mobile Menu with Scroll Lock
        function toggleMobileMenu() {
            const navLinks = document.querySelector('.nav-links');
            const overlay = document.querySelector('.nav-overlay');
            const body = document.body;

            navLinks.classList.toggle('show');
            
            if(navLinks.classList.contains('show')) {
                overlay.style.display = 'block';
                body.classList.add('no-scroll');
            } else {
                overlay.style.display = 'none';
                body.classList.remove('no-scroll');
            }
        }

        // Share
        function handleMobileShare() {
            const link = "https://www.husseinalkhalil.com/inq.html";
            if (navigator.share) {
                navigator.share({ title: 'تساؤلات - حسين الخليل', url: link }).catch(console.error);
            } else {
                navigator.clipboard.writeText(link).then(() => {
                    const alert = document.getElementById('copyAlert');
                    alert.classList.add('show');
                    setTimeout(() => alert.classList.remove('show'), 2000);
                });
            }
        }

        window.addEventListener('load', () => {
            if (window.innerWidth < 1200) {
                const mobileShareLink = document.querySelector('.mobile-share-link');
                if(mobileShareLink) mobileShareLink.style.display = 'flex';
            }
        });

        // Pagination Logic
        const faqsPerPage = 15;
        let currentPage = 1;

        function paginateFAQs() {
            const faqs = Array.from(document.querySelectorAll('details'));
            const isSearching = document.getElementById('globalSearch').value.trim() !== '';

            // We don't hide pagination for dropdown search
            // as the global search doesn't filter the list below.

            const totalPages = Math.ceil(faqs.length / faqsPerPage);
            const pageInfo = document.getElementById('pageInfo');
            if (pageInfo) pageInfo.textContent = `الصفحة ${currentPage} من ${totalPages}`;

            faqs.forEach((faq, index) => {
                // Reset state
                faq.open = false;
                
                const start = (currentPage - 1) * faqsPerPage;
                const end = currentPage * faqsPerPage;
                faq.style.display = (index >= start && index < end) ? 'block' : 'none';
            });

            document.getElementById('prevPage').disabled = currentPage === 1;
            document.getElementById('nextPage').disabled = currentPage === totalPages;
            document.getElementById('firstPage').disabled = currentPage === 1;
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        document.getElementById('nextPage').onclick = function() {
            const totalPages = Math.ceil(document.querySelectorAll('details').length / faqsPerPage);
            if (currentPage < totalPages) {
                currentPage++;
                paginateFAQs();
            }
        };

        document.getElementById('prevPage').onclick = function() {
            if (currentPage > 1) {
                currentPage--;
                paginateFAQs();
            }
        };

        document.getElementById('firstPage').onclick = function() {
            currentPage = 1;
            paginateFAQs();
        };

        // Back to Top
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        window.addEventListener('scroll', () => {
            const btn = document.querySelector('.back-to-top');
            if (window.scrollY > 300) btn.classList.add('visible');
            else btn.classList.remove('visible');
        });

        // ==================== Global Search Logic ====================
        let cachedPagesContent = null;
        let isSearchInitialized = false;
        
        async function loadAllPagesContent() {
            if (cachedPagesContent) return cachedPagesContent;

            try {
                // Fetch site-map.json with cache busting
                const response = await fetch('site-map.json?v=' + new Date().getTime());
                if (!response.ok) throw new Error('Could not load site-map.json');
                const pagesList = await response.json();

                // Process each item
                const promises = pagesList.map(async (item) => {
                    let url = typeof item === 'string' ? item : item.url;
                    
                    let manualContent = (typeof item === 'object' && item.content) ? item.content : null;
                    let manualTitle = (typeof item === 'object' && item.page) ? item.page : null;

                    if (manualContent) {
                        return { 
                            page: manualTitle || url, 
                            url: url, 
                            content: manualContent 
                        };
                    }

                    try {
                        const pageResp = await fetch(url);
                        if (!pageResp.ok) return null;
                        const html = await pageResp.text();
                        const parser = new DOMParser();
                        const doc = parser.parseFromString(html, 'text/html');
                        
                        doc.querySelectorAll('script, style, nav, footer, .no-search').forEach(el => el.remove());
                        const mainContent = doc.querySelector('.container, main, body') || doc.body;

                        return {
                            page: doc.title.replace('حسين الخليل - ', '').replace('الموقع الرسمي', '').trim() || 'صفحة',
                            url: url,
                            content: mainContent.textContent.replace(/\s+/g, ' ').trim()
                        };
                    } catch (e) { return null; }
                });

                const results = await Promise.all(promises);
                cachedPagesContent = results.filter(Boolean);
                return cachedPagesContent;
            } catch (error) {
                console.error("Search Error:", error);
                return [];
            }
        }

        function normalizeArabic(text) {
            if (!text) return '';
            text = text.replace(/[\u064B-\u065F\u0670]/g, ''); 
            text = text.replace(/[أإآ]/g, 'ا');
            text = text.replace(/[ة]/g, 'ه');
            text = text.replace(/[ى]/g, 'ي');
            text = text.replace(/[ؤ]/g, 'و');
            text = text.replace(/[ئ]/g, 'ي');
            return text;
        }

        function getSafeRegex(searchTerm) {
            let regexStr = '';
            const cleanTerm = normalizeArabic(searchTerm);
            
            for (let i = 0; i < cleanTerm.length; i++) {
                const char = cleanTerm[i];
                if (char === 'ا') regexStr += '[اأإآ]';
                else if (char === 'ه') regexStr += '[هة]';
                else if (char === 'ي') regexStr += '[يىئ]';
                else if (char === 'و') regexStr += '[وؤ]';
                else if (char.match(/[a-zA-Z]/)) regexStr += char;
                else regexStr += char.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                
                regexStr += '[\\u064B-\\u065F\\u0670]*'; 
            }
            return new RegExp(regexStr, 'gi');
        }

        function displayGlobalResults(results, queryRegex, container) {
            container.innerHTML = '';
            if (results.length === 0) {
                container.innerHTML = '<div class="search-item"><p>⚠️ لم يتم العثور على نتائج</p></div>';
                container.style.display = 'block';
                return;
            }
            
            // Add Count
            const countDiv = document.createElement('div');
            countDiv.className = 'search-count';
            countDiv.textContent = `تم العثور على ${results.length} نتيجة`;
            container.appendChild(countDiv);
            
            results.forEach(item => {
                const div = document.createElement('div');
                div.className = 'search-item';
                
                const highlightedTitle = item.page.replace(queryRegex, match => `<mark>${match}</mark>`);
                
                let snippet = '';
                queryRegex.lastIndex = 0;
                const match = queryRegex.exec(item.content);
                
                if (match) {
                    const start = Math.max(0, match.index - 60);
                    const end = Math.min(item.content.length, match.index + 100);
                    snippet = item.content.substring(start, end);
                    if (start > 0) snippet = '...' + snippet;
                    if (end < item.content.length) snippet = snippet + '...';
                } else {
                    snippet = item.content.substring(0, 150) + '...';
                }
                
                const highlightedSnippet = snippet.replace(queryRegex, match => `<mark>${match}</mark>`);

                // Pass query as parameter
                const searchTerm = document.getElementById('globalSearch').value.trim();
                div.innerHTML = `<h3>${highlightedTitle}</h3><p>${highlightedSnippet}</p>`;
                div.onclick = () => window.location.href = item.url + "?highlight=" + encodeURIComponent(searchTerm);
                container.appendChild(div);
            });
            container.style.display = 'block';
        }

        async function performGlobalSearch(query) {
            const resultsContainer = document.getElementById('searchResults');

            if (!query || query.length < 2) {
                resultsContainer.style.display = 'none';
                return;
            }
            
            resultsContainer.innerHTML = '<div class="search-item"><p>جاري البحث...</p></div>';
            resultsContainer.style.display = 'block';

            const data = await loadAllPagesContent();
            const searchRegex = getSafeRegex(query);
            
            const results = data.filter(item => {
                searchRegex.lastIndex = 0;
                const titleMatch = searchRegex.test(item.page);
                searchRegex.lastIndex = 0;
                const contentMatch = searchRegex.test(item.content);
                return titleMatch || contentMatch;
            });

            displayGlobalResults(results, searchRegex, resultsContainer);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            paginateFAQs();

            // Setup Search Listener
            const searchInput = document.getElementById('globalSearch');
            let timer;
            if(searchInput) {
                searchInput.addEventListener('input', (e) => {
                    clearTimeout(timer);
                    timer = setTimeout(() => performGlobalSearch(e.target.value.trim()), 500);
                });
                searchInput.addEventListener('focus', () => {
                    if(!isSearchInitialized) { loadAllPagesContent(); isSearchInitialized = true; }
                });
            }

            // Close search on outside click
            document.addEventListener('click', (e) => {
                const searchContainer = document.querySelector('.universal-search');
                if(searchContainer && !searchContainer.contains(e.target)) {
                    document.getElementById('searchResults').style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>
