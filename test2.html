<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
    <title>الروايات</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4459876088599546" crossorigin="anonymous"></script>
    <!-- Favicon -->
    <link href="images/logo-small.png" rel="icon" type="image/png"/>
    <link href="images/logo-small.png" rel="apple-touch-icon"/>

    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary-color: #5e2ca5;
            --primary-dark: #451b7a; 
            --primary-light: #8a5bc7;
            --accent-color: #ffd700;
            --bg-color: #f9f7f2;
            --surface-color: #F8F5FD; 
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --shadow-sm: 0 4px 15px rgba(94, 44, 165, 0.08);
            --shadow-md: 0 8px 20px rgba(94, 44, 165, 0.12);
            --shadow-lg: 0 15px 30px rgba(0,0,0,0.1);
            --radius-lg: 1rem;
            --radius-xl: 1.5rem;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            width: 100%;
        }

        body.no-scroll {
            overflow: hidden !important;
            height: 100vh;
        }

        a { text-decoration: none; color: inherit; transition: all 0.3s ease; }

        /* ==================== Navigation ==================== */
        .nav-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(4px);
            z-index: 998; display: none;
        }

        nav {
            background: rgba(94, 44, 165, 0.98);
            backdrop-filter: blur(10px);
            padding: 0 5%;
            position: fixed;
            width: 100%; top: 0; z-index: 1000;
            display: flex; align-items: center; justify-content: space-between;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            height: 75px;
        }

        .logo-container { order: 1; } 
        .logo-container img { 
            height: 45px; 
            width: auto; 
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .nav-links {
            display: flex; flex: 1; justify-content: space-evenly; align-items: center; margin: 0 10px; order: 2;
        }

        .nav-links a {
            color: white; font-weight: 700; font-size: 0.95rem; padding: 8px 12px; border-radius: 20px; white-space: nowrap;
            display: flex; align-items: center; gap: 5px;
        }

        .nav-links a:hover { background: rgba(255,255,255,0.15); transform: translateY(-2px); }

        .nav-links a.active {
            background: rgba(255,255,255,0.15);
            transform: translateY(-2px);
        }

        .hamburger { display: none; color: white; font-size: 1.5rem; cursor: pointer; order: 3; }

        @media (max-width: 1200px) {
            .hamburger { display: block; order: 1; }
            .logo-container { order: 2; }
            .nav-links {
                position: fixed; top: 75px; right: -280px; width: 280px;
                background: var(--surface-color);
                flex-direction: column; padding: 20px; height: calc(100vh - 75px);
                box-shadow: -5px 0 15px rgba(0,0,0,0.1); transition: right 0.3s ease;
                overflow-y: auto; flex-wrap: nowrap; justify-content: flex-start;
                gap: 10px; margin: 0; flex: unset; z-index: 1000;
                order: unset; transform: none; display: flex !important;
            }
            .nav-links.show { right: 0; }
            .nav-links a { 
                color: var(--text-primary); width: 100%; padding: 12px; 
                border-radius: 8px; font-size: 1rem; justify-content: flex-start; 
                border-bottom: 1px solid rgba(0,0,0,0.03);
            }
            .nav-links a:hover { background: rgba(94, 44, 165, 0.05); color: var(--primary-color); transform: none; }
            .nav-links a.active {
                background: rgba(94, 44, 165, 0.05);
                color: var(--primary-color);
            }

            /* تعديل: إخفاء مربع البحث عند فتح القائمة الجانبية في الجوال */
            body.no-scroll .universal-search {
                display: none !important;
            }
        }

        /* ==================== Search Styles (Copied from Source) ==================== */
        .universal-search { width: 100%; max-width: 600px; margin: 35px auto 0; position: relative; z-index: 1002; }
        #globalSearch { 
            width: 100%; padding: 18px 25px; border-radius: 50px; border: none; font-size: 1rem; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.2); outline: none; text-align: right;
            font-family: 'Tajawal', sans-serif;
        }
        .search-results {
            position: absolute; top: 110%; left: 0; right: 0; 
            background: white; border-radius: 15px; max-height: 400px; 
            overflow-y: auto; display: none; z-index: 1002; color: #333; 
            text-align: right; box-shadow: var(--shadow-lg); border: 1px solid rgba(0,0,0,0.05);
        }
        .search-item { padding: 15px 20px; border-bottom: 1px solid rgba(0,0,0,0.05); cursor: pointer; transition: background 0.2s; }
        .search-item:hover { background: rgba(94, 44, 165, 0.05); }
        .search-item h3 { color: var(--primary-color); font-size: 1rem; margin-bottom: 5px; font-weight: 700; }
        .search-count { padding: 10px 20px; font-size: 0.85rem; color: var(--primary-color); border-bottom: 2px solid rgba(94, 44, 165, 0.1); background: #f8fafc; font-weight: 700; }
        mark { background-color: #ffd700; color: #000; padding: 0 2px; border-radius: 2px; }

        /* ==================== Hadith Hero & Intro ==================== */
        .hadith-hero {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            padding: 130px 20px 60px;
            text-align: center;
            color: white;
            border-radius: 0 0 50px 50px;
            width: 100%;
        }
        .hadith-hero h1 { font-size: 2.5rem; font-weight: 800; margin-bottom: 20px; }
        
        .intro-text {
            max-width: 900px;
            margin: 40px auto;
            padding: 0 20px;
            text-align: center;
            font-size: 1.25rem;
            color: var(--text-primary);
            line-height: 1.8;
            font-weight: 500;
        }
        .intro-text span {
            color: var(--primary-color);
            font-weight: 800;
        }

        /* ==================== Development Notice Style ==================== */
        .dev-notice {
            background: #fff9e6;
            border: 2px dashed #ff4d4d;
            padding: 25px;
            border-radius: var(--radius-lg);
            text-align: center;
            margin: 0 auto 50px;
            max-width: 900px;
            box-shadow: var(--shadow-sm);
        }
        .dev-notice h2 {
            color: #e63946; /* اللون الأحمر المطلوب */
            font-size: 1.8rem;
            font-weight: 800;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        @media (max-width: 768px) {
            .dev-notice h2 { font-size: 1.3rem; }
        }

        /* ==================== Grid Layout ==================== */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; width: 100%; }
        
        .hadith-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 80px;
        }

        .hadith-card {
            background: var(--surface-color);
            border-radius: var(--radius-xl);
            padding: 40px 30px;
            text-align: center;
            box-shadow: var(--shadow-sm);
            border: 1px solid rgba(0,0,0,0.05);
            transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .hadith-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary-color);
        }

        .icon-wrapper {
            width: 80px; height: 80px;
            background: white;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            margin-bottom: 20px;
            font-size: 2rem;
            color: var(--primary-color);
            box-shadow: 0 8px 15px rgba(94, 44, 165, 0.1);
            transition: 0.3s;
        }

        .hadith-card:hover .icon-wrapper {
            background: var(--primary-color);
            color: white;
        }

        .hadith-card h3 { font-size: 1.4rem; color: var(--primary-dark); margin-bottom: 12px; font-weight: 800; }
        .hadith-card p { color: var(--text-secondary); font-size: 0.95rem; }

        /* ==================== Social Section ==================== */
        .social-section { text-align: center; margin-bottom: 60px; background: var(--surface-color); padding: 40px; border-radius: var(--radius-xl); box-shadow: var(--shadow-sm); }
        .social-grid { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin-top: 30px; }
        .social-btn { width: 55px; height: 55px; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: white; transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .social-btn img { width: 26px; transition: 0.3s; }
        .social-btn:hover { transform: translateY(-8px) scale(1.1); box-shadow: 0 10px 20px rgba(0,0,0,0.15); }
        .social-btn:hover img { filter: brightness(0) invert(1); }
        .social-yt:hover { background: #FF0000; }
        .social-fb:hover { background: #1877F2; }
        .social-ins:hover { background: #E4405F; }
        .social-tg:hover { background: #0088CC; }
        .social-tk:hover { background: #000000; }
        .social-sc:hover { background: #FFFC00; } .social-sc:hover img { filter: none; }

        /* ==================== Footer ==================== */
        footer { background: #1e293b; color: white; padding: 60px 20px; text-align: center; width: 100%; }
        .footer-links { display: flex; justify-content: center; gap: 12px; margin-bottom: 25px; flex-wrap: wrap; align-items: center; }
        .footer-links a { color: #cbd5e1; font-weight: 500; font-size: 0.95rem; text-decoration: none; transition: color 0.3s ease; }
        .footer-links a:hover { color: var(--accent-color); }
        .footer-divider { color: #475569; font-size: 0.8rem; user-select: none; } 
        .copyright { color: #64748b; font-size: 0.85rem; border-top: 1px solid #334155; padding-top: 25px; margin-top: 25px; }

        @media (max-width: 768px) {
            .hadith-hero { padding: 110px 15px 50px; border-radius: 0 0 35px 35px; }
            .hadith-hero h1 { font-size: 1.8rem; }
            .intro-text { font-size: 1.1rem; }
            .hadith-grid { grid-template-columns: 1fr; }
            .universal-search { margin-top: 25px; }
        }
    </style>
</head>
<body>

    <div class="nav-overlay" id="navOverlay" onclick="toggleMobileMenu()"></div>

    <nav>
        <div class="logo-container">
            <a href="index.html"><img src="images/logo.png" alt="logo" /></a>
        </div>
        <div class="nav-links" id="navLinks">
            <a href="index.html">الرئيسية</a>
            <a href="books.html">الكتب</a>
            <a href="articles.html">المقالات</a>
            <a href="hadith.html" class="active">الروايات</a>
            <a href="khawatir.html">خواطر</a>
            <a href="videos.html">الفيديوهات</a>
            <a href="history.html">التاريخ</a>
            <a href="podcast.html">البودكاست</a>
            <a href="ask.html">الأسئلة</a>
            <a href="hewar.html">حوارات</a>
            <a href="inq.html">تساؤلات</a>
            <a href="manhaj.html">المنهج</a>
            <a href="favorites.html">المفضلة</a>
            <a href="support.html">دعم المحتوى</a>
            <a href="about.html">من نحن</a>
            <a href="/en/hadith.html" style="color: #ffd700 !important; font-weight: 800; font-size: 1rem; border: 1.5px solid rgba(255, 215, 0, 0.6); padding: 8px 16px; border-radius: 20px; display: inline-flex; align-items: center; justify-content: center; gap: 8px; text-decoration: none; line-height: 1; font-family: sans-serif; height: auto;">En<i class="fas fa-globe" style="font-size: 1rem; line-height: 1;"></i></a>
        </div>
        <div class="hamburger" onclick="toggleMobileMenu()"><i class="fas fa-bars"></i></div>
    </nav>

    <header class="hadith-hero">
        <h1>قسم الروايات</h1>
        <p>نقد المرويات التراثية في ميزان القرآن الكريم</p>
        
        <!-- مربع البحث المنسوخ من الكود الأول -->
        <div class="universal-search">
            <input type="text" id="globalSearch" placeholder="ابحث في جميع المحتويات..." />
            <div class="search-results" id="searchResults"></div>
        </div>
    </header>

    <div class="container">
        <div class="intro-text">
            تُعد قضية <span>الروايات</span> أو ما يُصطلح عليه بالوحي الثاني واحدة من أكثر القضايا تأثيراً في تشكيل العقل المسلم عبر القرون. في هذا القسم، نضع هذه المرويات تحت مجهر النقد العلمي، لنبين ما اعتراها من تضارب، وما خالف صريح النص القرآني، أو أساء للمنطق السليم والقيم الإنسانية، بهدف الوصول إلى فهم أنقى للدين بعيداً عن الدخيل والمكذوب.
        </div>

        <!-- الجملة المطلوبة باللون الأحمر والتصميم المميز -->
        <div class="dev-notice">
            <h2><i class="fas fa-tools"></i> هذا القسم قيد التحديث والتطوير، وسيتم إطلاقه قريبًا بإذن الله</h2>
        </div>

        <div class="hadith-grid">
            <!-- 1 -->
            <div class="hadith-card" onclick="location.href='#'">
                <div class="icon-wrapper"><i class="fa-feather-pointed"></i></div>
                <h3>روايات تناقض بعضها</h3>
                <p>استعراض المرويات التي ينفي بعضها بعضاً وتتناقض في متونها رغم وجودها في كتب الصحاح.</p>
            </div>
            <!-- 2 -->
            <div class="hadith-card" onclick="location.href='#'">
                <div class="icon-wrapper"><i class="fas fa-sync"></i></div>
                <h3>روايات تناقض بعضها</h3>
                <p>استعراض المرويات التي ينفي بعضها بعضاً وتتناقض في متونها رغم وجودها في كتب الصحاح.</p>
            </div>
            <!-- 3 -->
            <div class="hadith-card" onclick="location.href='#'">
                <div class="icon-wrapper"><i class="fas fa-book-quran"></i></div>
                <h3>روايات تناقض القرآن</h3>
                <p>بحث في الروايات التي صدمت نصوص القرآن القطعية وخالفت أحكامه وقيمه العليا.</p>
            </div>
            <!-- 4 -->
            <div class="hadith-card" onclick="location.href='#'">
                <div class="icon-wrapper"><i class="fas fa-brain"></i></div>
                <h3>روايات تناقض العقل</h3>
                <p>روايات تخالف بديهيات المنطق السليم، أو تتعارض مع الحقائق الكونية والعلمية الثابتة.</p>
            </div>
            <!-- 5 -->
            <div class="hadith-card" onclick="location.href='hadith.html'">
                <div class="icon-wrapper"><i class="fas fa-user-shield"></i></div>
                <h3>روايات أساءت للنبي</h3>
                <p>مرويات نسبت للنبي أقوالاً وأفعالاً تتنافى مع مقام النبوة وعظمة الخُلُق النبوي.</p>
            </div>
            <!-- 6 -->
            <div class="hadith-card" onclick="location.href='#'">
                <div class="icon-wrapper"><i class="fas fa-venus-mars"></i></div>
                <h3>روايات أساءت للمرأة</h3>
                <p>نقد الموروث الروائي الذي انتقص من كرامة المرأة الإنسانية وقيد حقوقها المكفولة قرآنياً.</p>
            </div>
            <!-- 7 -->
            <div class="hadith-card" onclick="location.href='#'">
                <div class="icon-wrapper"><i class="fas fa-scroll"></i></div>
                <h3>تقارب الروايات مع العهود السابقة</h3>
                <p>تتبع الروايات المنسوخة من كتب العهود السابقة والديانات القديمة كالزرادشتية.</p>
            </div>
        </div>

        <!-- قسم تابعنا -->
        <div class="social-section">
            <h2 style="margin-bottom: 10px; font-weight: 800; color: var(--primary-dark);">تابعنا على منصات التواصل</h2>
            <div class="social-grid">
                <a href="https://youtube.com/@husseinalkhalil" target="_blank" class="social-btn social-yt" title="يوتيوب"><img src="icons/yot-soc.png" alt="yt"></a>
                <a href="https://www.facebook.com/hussien.alkhalil" target="_blank" class="social-btn social-fb" title="فيسبوك"><img src="icons/fac-soc.png" alt="fb"></a>
                <a href="https://instagram.com/husseinalkhalil" target="_blank" class="social-btn social-ins" title="إنستغرام"><img src="icons/ins-soc.png" alt="in"></a>
                <a href="https://t.me/tanoeer" target="_blank" class="social-btn social-tg" title="تلغرام"><img src="icons/tel-soc.png" alt="tg"></a>
                <a href="https://tiktok.com/@h.alkhalil" target="_blank" class="social-btn social-tk" title="تيك توك"><img src="icons/tik-soc.png" alt="tk"></a>
                <a href="https://snapchat.com/t/sFLWjw3K" target="_blank" class="social-btn social-sc" title="سناب شات"><img src="icons/snap.png" alt="sc"></a>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-links">
            <a href="terms.html">الشروط والأحكام</a> <span class="footer-divider">|</span>
            <a href="privacy.html">سياسة الخصوصية</a> <span class="footer-divider">|</span>
            <a href="contact.html">اتصل بنا</a> <span class="footer-divider">|</span>
            <a href="feedback.html">شاركنا رأيك</a>
        </div>
        <div class="copyright">حسين الخليل - جميع الحقوق محفوظة © 2025</div>
    </footer>

    <script>
        /* ==================== Logic for Search (Copied from Source) ==================== */
        let cachedPagesContent = null;
        let isSearchInitialized = false;

        async function loadAllPagesContent() {
            if (cachedPagesContent) return cachedPagesContent;
            try {
                const response = await fetch('site-map.json?v=' + new Date().getTime());
                const pagesList = await response.json();
                const promises = pagesList.map(async (item) => {
                    let url = typeof item === 'string' ? item : item.url;
                    try {
                        const pageResp = await fetch(url);
                        const html = await pageResp.text();
                        const parser = new DOMParser();
                        const doc = parser.parseFromString(html, 'text/html');
                        doc.querySelectorAll('script, style, nav, footer, .no-search').forEach(el => el.remove());
                        const mainContent = doc.querySelector('.container, main, body') || doc.body;
                        return { 
                            page: doc.title.replace('حسين الخليل - ', '').replace('الموقع الرسمي', '').trim() || 'صفحة', 
                            url: url, 
                            content: mainContent.textContent.replace(/\s+/g, ' ').trim() 
                        };
                    } catch (e) { return null; }
                });
                cachedPagesContent = (await Promise.all(promises)).filter(Boolean);
                return cachedPagesContent;
            } catch (error) { return []; }
        }

        function normalizeArabic(text) {
            if (!text) return '';
            text = text.replace(/[\u064B-\u065F\u0670]/g, '');
            text = text.replace(/[أإآ]/g, 'ا').replace(/[ة]/g, 'ه').replace(/[ى]/g, 'ي').replace(/[ؤ]/g, 'و').replace(/[ئ]/g, 'ي');
            return text;
        }

        function getSafeRegex(searchTerm) {
            let regexStr = '';
            const cleanTerm = normalizeArabic(searchTerm);
            for (let char of cleanTerm) {
                if (char === 'ا') regexStr += '[اأإآ]';
                else if (char === 'ه') regexStr += '[هة]';
                else if (char === 'ي') regexStr += '[يىئ]';
                else if (char === 'و') regexStr += '[وؤ]';
                else regexStr += char.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                regexStr += '[\\u064B-\u065F\u0670]*';
            }
            return new RegExp(regexStr, 'gi');
        }

        function displayResults(results, queryRegex, container) {
            container.innerHTML = '';
            if (results.length === 0) {
                container.innerHTML = '<div class="search-item"><p>⚠️ لم يتم العثور على نتائج</p></div>';
                container.style.display = 'block';
                return;
            }
            const countDiv = document.createElement('div');
            countDiv.className = 'search-count';
            countDiv.textContent = `تم العثور على ${results.length} نتيجة`;
            container.appendChild(countDiv);

            results.forEach(item => {
                const div = document.createElement('div');
                div.className = 'search-item';
                const highlightedTitle = item.page.replace(queryRegex, match => `<mark>${match}</mark>`);
                queryRegex.lastIndex = 0;
                const match = queryRegex.exec(item.content);
                let snippet = match ? (item.content.substring(Math.max(0, match.index - 60), Math.min(item.content.length, match.index + 100))) : (item.content.substring(0, 140));
                div.innerHTML = `<h3>${highlightedTitle}</h3><p>${snippet.replace(queryRegex, match => `<mark>${match}</mark>`)}...</p>`;
                div.onclick = () => window.location.href = item.url;
                container.appendChild(div);
            });
            container.style.display = 'block';
        }

        async function performSearch(query) {
            const resultsContainer = document.getElementById('searchResults');
            if (!query || query.length < 2) { resultsContainer.style.display = 'none'; return; }
            resultsContainer.innerHTML = '<div class="search-item"><p>جاري البحث...</p></div>';
            resultsContainer.style.display = 'block';
            const data = await loadAllPagesContent();
            const searchRegex = getSafeRegex(query);
            const results = data.filter(item => {
                searchRegex.lastIndex = 0;
                const titleMatch = searchRegex.test(item.page);
                searchRegex.lastIndex = 0;
                const contentMatch = searchRegex.test(item.content);
                return titleMatch || contentMatch;
            });
            displayResults(results, searchRegex, resultsContainer);
        }

        function toggleMobileMenu() {
            const navLinks = document.getElementById('navLinks');
            const overlay = document.getElementById('navOverlay');
            const body = document.body;
            navLinks.classList.toggle('show');
            if(navLinks.classList.contains('show')) {
                overlay.style.display = 'block';
                body.classList.add('no-scroll');
            } else {
                overlay.style.display = 'none';
                body.classList.remove('no-scroll');
            }
        }

        /* ==================== Event Listeners ==================== */
        document.addEventListener('DOMContentLoaded', () => {
            const sInput = document.getElementById('globalSearch');
            if (sInput) {
                let sTimer;
                sInput.addEventListener('input', (e) => {
                    clearTimeout(sTimer);
                    sTimer = setTimeout(() => performSearch(e.target.value.trim()), 500);
                });
                sInput.addEventListener('focus', () => { if(!isSearchInitialized) { loadAllPagesContent(); isSearchInitialized = true; } });
            }

            document.addEventListener('click', (e) => {
                const results = document.getElementById('searchResults');
                if(results && !document.querySelector('.universal-search').contains(e.target)) {
                    results.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>
